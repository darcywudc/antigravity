<div class="chapter-header fade-in">
    <span class="chapter-badge">第 9 章</span>
    <h1 class="chapter-title">列空间与秩 <br><small style="font-size: 0.6em; color: var(--text-muted);">Column Space and
            Rank</small></h1>

    <div class="problem-hook"
        style="background: linear-gradient(135deg, rgba(74, 158, 255, 0.15), rgba(139, 92, 246, 0.15)); padding: 2rem; border-radius: 16px; margin-top: 1.5rem;">
        <div style="font-size: 2rem; margin-bottom: 0.5rem;">❓</div>
        <p style="font-size: 1.2rem; margin: 0; font-weight: bold;">
            "为什么有些方程组无解，有些有无穷多解？"
        </p>
        <p style="margin: 1rem 0 0 0; color: var(--text-muted);">
            答案藏在矩阵的<strong>列空间</strong>里——它决定了矩阵能"到达"哪些地方。
        </p>
    </div>

    <div class="vocab-summary" style="margin-top: 2rem;">
        <div class="vocab-title">本章核心词汇</div>
        <div class="vocab-list">
            <div class="vocab-item"><span class="vocab-zh">列空间</span><span class="vocab-en">Column Space</span></div>
            <div class="vocab-item"><span class="vocab-zh">秩</span><span class="vocab-en">Rank</span></div>
            <div class="vocab-item"><span class="vocab-zh">零空间</span><span class="vocab-en">Null Space</span></div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 1 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎯 9.1 列空间：矩阵能到达的地方</h2>

    <div class="content-block">
        <div class="definition-card">
            <div class="definition-title">列空间 (Column Space)</div>
            <p>矩阵 $A$ 的<span class="term" data-en="Column Space">列空间</span>是所有可能的 $A\vec{x}$ 的集合：</p>
            <div class="math-block">
                $\text{Col}(A) = \{A\vec{x} \mid \vec{x} \in \mathbb{R}^n\}$
            </div>
            <p style="margin-top: 0.5rem;">它等于 $A$ 的列向量的<strong>张成空间</strong>。</p>
        </div>

        <div class="aha-box" style="margin-top: 2rem;">
            <div class="aha-title">💡 直觉理解</div>
            <p>
                把矩阵想象成一台"加工机器"。<br>
                列空间 = 这台机器能<strong>输出</strong>的所有可能结果。
            </p>
        </div>

        <div class="theorem-card" style="margin-top: 2rem;">
            <div class="theorem-title">方程组解的判断</div>
            <p>$A\vec{x} = \vec{b}$ 有解 ⟺ $\vec{b}$ 在 $A$ 的列空间中</p>
        </div>
    </div>
</div>

<!-- ==================== SECTION 2 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">📊 9.2 秩：列空间的维度</h2>

    <div class="content-block">
        <div class="definition-card">
            <div class="definition-title">秩 (Rank)</div>
            <p><span class="term" data-en="Rank">秩</span>是列空间的维度，即线性无关列向量的个数。</p>
        </div>

        <div class="example-ladder" style="margin-top: 2rem;">
            <div class="example-step">
                <div class="step-number">例1</div>
                <div class="step-content">
                    <div class="step-label">满秩矩阵</div>
                    <p>$\begin{bmatrix}1 & 0\\0 & 1\end{bmatrix}$ — 秩 = 2（两列线性无关）</p>
                    <p>列空间 = 整个 2D 平面</p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">例2</div>
                <div class="step-content">
                    <div class="step-label">非满秩矩阵</div>
                    <p>$\begin{bmatrix}1 & 2\\2 & 4\end{bmatrix}$ — 秩 = 1（第二列 = 2 × 第一列）</p>
                    <p>列空间 = 一条线</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 3 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🕳️ 9.3 零空间：被压死的方向</h2>

    <div class="content-block">
        <div class="definition-card">
            <div class="definition-title">零空间 (Null Space)</div>
            <p><span class="term" data-en="Null Space">零空间</span>是所有被变换到原点的向量：</p>
            <div class="math-block">
                $\text{Null}(A) = \{\vec{x} \mid A\vec{x} = \vec{0}\}$
            </div>
        </div>

        <div class="aha-box" style="margin-top: 2rem;">
            <div class="aha-title">💡 直觉</div>
            <p>
                零空间 = 被"压扁"的方向。<br>
                如果零空间不只是 {0}，说明矩阵把某些非零向量压成了零。
            </p>
        </div>

        <div class="theorem-card" style="margin-top: 2rem;">
            <div class="theorem-title">秩-零化度定理</div>
            <p>对于 $m \times n$ 矩阵 $A$：</p>
            <div class="math-block">
                $\text{rank}(A) + \dim(\text{Null}(A)) = n$
            </div>
        </div>
    </div>
</div>

<!-- ==================== 实战应用 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎯 实战应用</h2>

    <div class="content-block">
        <div class="deep-dive" style="border-left: 4px solid var(--accent-blue); margin-bottom: 2rem;">
            <div class="deep-title">📊 问题：特征选择</div>
            <div style="background: rgba(74, 158, 255, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                <p>在机器学习中，如果特征矩阵的秩 < 特征数，说明有<strong>冗余特征</strong>。</p>
            </div>
        </div>

        <div class="deep-dive" style="border-left: 4px solid var(--accent-orange);">
            <div class="deep-title">🏗️ 问题：结构分析</div>
            <div style="background: rgba(249, 115, 22, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                <p>结构刚度矩阵的秩决定了结构是<strong>静定</strong>还是<strong>超静定</strong>。</p>
            </div>
        </div>
    </div>
</div>

<!-- ==================== 总结 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎯 本章收获</h2>

    <div class="content-block">
        <div class="theorem-card">
            <div class="theorem-title">核心要点</div>
            <ol style="margin: 0; padding-left: 1.5rem; line-height: 2.2;">
                <li><span class="term" data-en="Column Space">列空间</span> = 矩阵能输出的所有向量</li>
                <li><span class="term" data-en="Rank">秩</span> = 列空间的维度</li>
                <li><span class="term" data-en="Null Space">零空间</span> = 被压到原点的向量</li>
                <li>$A\vec{x} = \vec{b}$ 有解 ⟺ $\vec{b}$ 在列空间中</li>
            </ol>
        </div>

        <div class="connection-box" style="margin-top: 2rem;">
            <div class="connection-title">📍 下一章预告</div>
            <p>
                接下来我们学习两种重要的向量运算：<br>
                <strong>点积</strong>——判断相似度和角度的工具！
            </p>
        </div>
    </div>
</div>