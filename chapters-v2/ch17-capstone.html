<div class="chapter-header fade-in">
    <span class="chapter-badge">第 17 章（终章）</span>
    <h1 class="chapter-title">综合实战——完整项目 <br><small style="font-size: 0.6em; color: var(--text-muted);">Capstone:
            Complete Projects</small></h1>

    <div class="problem-hook"
        style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(74, 158, 255, 0.15)); padding: 2rem; border-radius: 16px; margin-top: 1.5rem;">
        <div style="font-size: 2rem; margin-bottom: 0.5rem;">🎓</div>
        <p style="font-size: 1.2rem; margin: 0; font-weight: bold;">
            恭喜你走到这里！现在让我们用所学知识解决完整的真实问题。
        </p>
    </div>

    <div class="vocab-summary" style="margin-top: 2rem;">
        <div class="vocab-title">本章你将完成</div>
        <div class="vocab-list">
            <div class="vocab-item"><span class="vocab-zh">🏗️ 简易有限元</span><span class="vocab-en">土木工程</span></div>
            <div class="vocab-item"><span class="vocab-zh">🖼️ 图像处理</span><span class="vocab-en">图形学</span></div>
            <div class="vocab-item"><span class="vocab-zh">🎬 推荐系统</span><span class="vocab-en">数据科学</span></div>
            <div class="vocab-item"><span class="vocab-zh">🎮 物理引擎</span><span class="vocab-en">游戏开发</span></div>
        </div>
    </div>
</div>

<!-- ==================== PROJECT A ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🏗️ 项目 A：简易桁架分析</h2>

    <div class="content-block">
        <div
            style="background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(249, 115, 22, 0.05)); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem;">
            <h3 style="margin: 0 0 1rem 0;">📋 问题描述</h3>
            <p>一个简单的三角形桁架，三个节点，受到外力作用。求各杆件的内力。</p>
        </div>

        <div class="example-ladder">
            <div class="example-step">
                <div class="step-number">步骤1</div>
                <div class="step-content">
                    <div class="step-label">建立坐标系和节点坐标</div>
                    <p>→ <strong>涉及 Ch1-2：向量、坐标系统</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">步骤2</div>
                <div class="step-content">
                    <div class="step-label">建立平衡方程</div>
                    <p>每个节点的力平衡 → 线性方程组</p>
                    <p>→ <strong>涉及 Ch13：线性方程组</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">步骤3</div>
                <div class="step-content">
                    <div class="step-label">组装刚度矩阵</div>
                    <p>→ <strong>涉及 Ch5-6：矩阵、矩阵乘法</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">步骤4</div>
                <div class="step-content">
                    <div class="step-label">求解位移</div>
                    <p>→ <strong>涉及 Ch8, Ch14：逆矩阵、高斯消元</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">✓</div>
                <div class="step-content" style="background: rgba(16, 185, 129, 0.1);">
                    <div class="step-label" style="color: var(--accent-green);">输出</div>
                    <p>各节点位移、各杆件内力</p>
                </div>
            </div>
        </div>

        <div class="aha-box" style="margin-top: 2rem;">
            <div class="aha-title">💡 知识点汇总</div>
            <div style="display: flex; flex-wrap: wrap; gap: 0.5rem; margin-top: 0.5rem;">
                <span
                    style="background: var(--accent-blue); color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.9em;">Ch1
                    向量</span>
                <span
                    style="background: var(--accent-orange); color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.9em;">Ch5
                    矩阵</span>
                <span
                    style="background: var(--accent-purple); color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.9em;">Ch13
                    方程组</span>
                <span
                    style="background: var(--accent-green); color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.9em;">Ch14
                    高斯消元</span>
            </div>
        </div>
    </div>
</div>

<!-- ==================== PROJECT B ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🖼️ 项目 B：图像变换流水线</h2>

    <div class="content-block">
        <div
            style="background: linear-gradient(135deg, rgba(74, 158, 255, 0.1), rgba(74, 158, 255, 0.05)); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem;">
            <h3 style="margin: 0 0 1rem 0;">📋 问题描述</h3>
            <p>实现一个图像编辑器：支持旋转、缩放、倾斜，并能撤销所有操作。</p>
        </div>

        <div class="example-ladder">
            <div class="example-step">
                <div class="step-number">功能1</div>
                <div class="step-content">
                    <div class="step-label">旋转 θ 度</div>
                    <p>→ <strong>涉及 Ch4-5：线性变换、矩阵</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">功能2</div>
                <div class="step-content">
                    <div class="step-label">组合多个变换</div>
                    <p>→ <strong>涉及 Ch6：矩阵乘法</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">功能3</div>
                <div class="step-content">
                    <div class="step-label">撤销变换</div>
                    <p>→ <strong>涉及 Ch8：逆矩阵</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">功能4</div>
                <div class="step-content">
                    <div class="step-label">检测是否可撤销</div>
                    <p>→ <strong>涉及 Ch7：行列式</strong></p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== PROJECT C ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎬 项目 C：电影推荐系统</h2>

    <div class="content-block">
        <div
            style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(139, 92, 246, 0.05)); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem;">
            <h3 style="margin: 0 0 1rem 0;">📋 问题描述</h3>
            <p>根据用户的历史评分，预测他们会喜欢哪些新电影。</p>
        </div>

        <div class="example-ladder">
            <div class="example-step">
                <div class="step-number">步骤1</div>
                <div class="step-content">
                    <div class="step-label">构建用户-电影评分矩阵</div>
                    <p>→ <strong>涉及 Ch5：矩阵表示</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">步骤2</div>
                <div class="step-content">
                    <div class="step-label">计算用户相似度</div>
                    <p>→ <strong>涉及 Ch10：点积（余弦相似度）</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">步骤3</div>
                <div class="step-content">
                    <div class="step-label">预测缺失评分</div>
                    <p>→ <strong>涉及 Ch15：最小二乘法</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">进阶</div>
                <div class="step-content">
                    <div class="step-label">使用 SVD 降维</div>
                    <p>→ <strong>涉及 Ch16：特征值（简介）</strong></p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== PROJECT D ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎮 项目 D：2D 物理引擎</h2>

    <div class="content-block">
        <div
            style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05)); padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem;">
            <h3 style="margin: 0 0 1rem 0;">📋 问题描述</h3>
            <p>实现简单的 2D 碰撞检测和响应。</p>
        </div>

        <div class="example-ladder">
            <div class="example-step">
                <div class="step-number">功能1</div>
                <div class="step-content">
                    <div class="step-label">物体位置和速度</div>
                    <p>→ <strong>涉及 Ch1：向量</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">功能2</div>
                <div class="step-content">
                    <div class="step-label">点在三角形内判断</div>
                    <p>→ <strong>涉及 Ch3, Ch11：线性组合、叉积</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">功能3</div>
                <div class="step-content">
                    <div class="step-label">反弹方向计算</div>
                    <p>→ <strong>涉及 Ch10：点积（投影）</strong></p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">功能4</div>
                <div class="step-content">
                    <div class="step-label">碰撞响应（动量守恒）</div>
                    <p>→ <strong>涉及 Ch13：线性方程组</strong></p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ==================== 知识地图 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🗺️ 知识地图：问题 → 工具</h2>

    <div class="content-block">
        <div class="theorem-card">
            <div class="theorem-title">快速参考</div>
            <table style="width: 100%; border-collapse: collapse; margin-top: 0.5rem;">
                <thead>
                    <tr style="background: rgba(74, 158, 255, 0.1);">
                        <th style="padding: 0.8rem; border-bottom: 2px solid var(--accent-blue);">问题类型</th>
                        <th style="padding: 0.8rem; border-bottom: 2px solid var(--accent-blue);">核心工具</th>
                        <th style="padding: 0.8rem; border-bottom: 2px solid var(--accent-blue);">章节</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">位置、速度、方向</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">向量</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">Ch1-2</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">旋转、缩放、变形</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">线性变换、矩阵</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">Ch4-6</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">面积/体积计算</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">行列式、叉积</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">Ch7, Ch11</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">撤销变换、解方程</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">逆矩阵</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">Ch8</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">相似度、夹角</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">点积</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">Ch10</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">垂直方向、法线</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">叉积</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">Ch11</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">解大规模方程</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">高斯消元</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">Ch14</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">数据拟合、回归</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">最小二乘</td>
                        <td style="padding: 0.6rem; border-bottom: 1px solid #333;">Ch15</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.6rem;">长期行为、降维</td>
                        <td style="padding: 0.6rem;">特征值</td>
                        <td style="padding: 0.6rem;">Ch16</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- ==================== 总结 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎓 课程总结</h2>

    <div class="content-block">
        <div
            style="text-align: center; padding: 3rem; background: linear-gradient(135deg, rgba(74, 158, 255, 0.1), rgba(16, 185, 129, 0.1)); border-radius: 16px;">
            <p style="font-size: 3rem; margin: 0;">🎉</p>
            <h2 style="margin: 1rem 0;">恭喜完成《线性代数直觉掌握》！</h2>
            <p style="font-size: 1.1rem; color: var(--text-muted); margin: 1rem 0;">
                你现在拥有了完整的线性代数工具箱。
            </p>
            <div style="margin-top: 2rem; padding: 1.5rem; background: rgba(255,255,255,0.05); border-radius: 12px;">
                <p style="margin: 0; font-size: 1.1rem;">
                    <strong>记住</strong>：线性代数不只是抽象的数学——<br>
                    它是理解游戏、图形、工程、数据科学的<strong>统一语言</strong>。<br><br>
                    去解决真实世界的问题吧！
                </p>
            </div>
        </div>
    </div>
</div>