<div class="chapter-header fade-in">
    <span class="chapter-badge">第 12 章</span>
    <h1 class="chapter-title">三维空间拓展 <br><small style="font-size: 0.6em; color: var(--text-muted);">Extension to 3D
            Space</small></h1>

    <div class="problem-hook"
        style="background: linear-gradient(135deg, rgba(74, 158, 255, 0.15), rgba(139, 92, 246, 0.15)); padding: 2rem; border-radius: 16px; margin-top: 1.5rem;">
        <div style="font-size: 2rem; margin-bottom: 0.5rem;">🎮</div>
        <p style="font-size: 1.2rem; margin: 0; font-weight: bold;">
            "VR 头显如何追踪你的头部旋转？"
        </p>
        <p style="margin: 1rem 0 0 0; color: var(--text-muted);">
            3D 旋转需要 3×3 矩阵，而且绕不同轴旋转的顺序很重要！
        </p>
    </div>

    <div class="vocab-summary" style="margin-top: 2rem;">
        <div class="vocab-title">本章核心词汇</div>
        <div class="vocab-list">
            <div class="vocab-item"><span class="vocab-zh">3D 旋转</span><span class="vocab-en">3D Rotation</span></div>
            <div class="vocab-item"><span class="vocab-zh">绕轴旋转</span><span class="vocab-en">Axis Rotation</span></div>
            <div class="vocab-item"><span class="vocab-zh">欧拉角</span><span class="vocab-en">Euler Angles</span></div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 1 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">📦 12.1 3D 向量与矩阵</h2>

    <div class="content-block">
        <div class="definition-card">
            <div class="definition-title">3D 扩展</div>
            <p>所有 2D 概念都可以扩展到 3D：</p>
            <ul style="margin-top: 0.5rem;">
                <li>向量：$\vec{v} = \begin{bmatrix}x\\y\\z\end{bmatrix}$</li>
                <li>基向量：$\hat{i}, \hat{j}, \hat{k}$</li>
                <li>变换矩阵：3×3</li>
            </ul>
        </div>
    </div>
</div>

<!-- ==================== SECTION 2 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🔄 12.2 绕坐标轴旋转</h2>

    <div class="content-block">
        <div class="theorem-card">
            <div class="theorem-title">三个基本旋转矩阵</div>
            <p><strong>绕 X 轴旋转：</strong></p>
            <div class="math-block">
                $R_x(\theta) = \begin{bmatrix}1 & 0 & 0\\0 & \cos\theta & -\sin\theta\\0 & \sin\theta &
                \cos\theta\end{bmatrix}$
            </div>
            <p><strong>绕 Y 轴旋转：</strong></p>
            <div class="math-block">
                $R_y(\theta) = \begin{bmatrix}\cos\theta & 0 & \sin\theta\\0 & 1 & 0\\-\sin\theta & 0 &
                \cos\theta\end{bmatrix}$
            </div>
            <p><strong>绕 Z 轴旋转：</strong></p>
            <div class="math-block">
                $R_z(\theta) = \begin{bmatrix}\cos\theta & -\sin\theta & 0\\\sin\theta & \cos\theta & 0\\0 & 0 &
                1\end{bmatrix}$
            </div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 3 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">⚠️ 12.3 欧拉角与万向锁</h2>

    <div class="content-block">
        <div class="definition-card">
            <div class="definition-title">欧拉角 (Euler Angles)</div>
            <p>用三个角度 $(\alpha, \beta, \gamma)$ 描述 3D 旋转：俯仰、偏航、滚转。</p>
        </div>

        <div class="definition-card" style="border-left-color: var(--accent-orange); margin-top: 1.5rem;">
            <div class="definition-title" style="color: var(--accent-orange);">⚠️ 万向锁问题</div>
            <p>
                当某个旋转角度达到 90° 时，可能丢失一个自由度。<br>
                这是 3D 旋转的经典陷阱！解决方案：使用四元数（高级话题）。
            </p>
        </div>
    </div>
</div>

<!-- ==================== 实战应用 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎯 实战应用</h2>

    <div class="content-block">
        <div class="deep-dive" style="border-left: 4px solid var(--accent-blue); margin-bottom: 2rem;">
            <div class="deep-title">🎮 问题：3D 摄像机控制</div>
            <div style="background: rgba(74, 158, 255, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                <p>游戏中的自由视角摄像机需要绕多个轴旋转。</p>
            </div>
        </div>

        <div class="deep-dive" style="border-left: 4px solid var(--accent-orange);">
            <div class="deep-title">🏗️ 问题：3D 结构分析</div>
            <div style="background: rgba(249, 115, 22, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                <p>空间框架结构需要考虑三个方向的位移和旋转。</p>
            </div>
        </div>
    </div>
</div>

<!-- ==================== 总结 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎯 本章收获</h2>

    <div class="content-block">
        <div class="theorem-card">
            <div class="theorem-title">核心要点</div>
            <ol style="margin: 0; padding-left: 1.5rem; line-height: 2.2;">
                <li>3D 变换使用 3×3 矩阵</li>
                <li>三个基本旋转：绕 X、Y、Z 轴</li>
                <li>3D 旋转顺序<strong>很重要</strong>（不可交换）</li>
                <li>注意万向锁问题</li>
            </ol>
        </div>

        <div class="connection-box" style="margin-top: 2rem;">
            <div class="connection-title">📍 下一章预告</div>
            <p>
                接下来进入<strong>线性方程组</strong>的世界——<br>
                如何求解多个未知数的方程？
            </p>
        </div>
    </div>
</div>