<div class="chapter-header fade-in">
    <span class="chapter-badge">第 14 章</span>
    <h1 class="chapter-title">特征向量：顽固的方向 <br><small style="font-size: 0.6em; color: var(--text-muted);">Eigenvectors and
            Eigenvalues</small></h1>
    <p class="chapter-description">
        大多数向量在变换后会改变方向。但有些"顽固"的向量，无论怎么变换，都坚持指向原来的方向！
        这些特殊的向量叫做<strong>特征向量</strong>，它们是线性代数中最强大的概念之一。
    </p>
</div>

<!-- 核心词汇 -->
<div class="section fade-in">
    <div class="vocab-summary">
        <div class="vocab-title">本章核心词汇</div>
        <div class="vocab-list">
            <div class="vocab-item"><span class="vocab-zh">特征向量</span><span class="vocab-en">Eigenvector</span></div>
            <div class="vocab-item"><span class="vocab-zh">特征值</span><span class="vocab-en">Eigenvalue</span></div>
            <div class="vocab-item"><span class="vocab-zh">特征方程</span><span class="vocab-en">Characteristic
                    Equation</span></div>
            <div class="vocab-item"><span class="vocab-zh">对角化</span><span class="vocab-en">Diagonalization</span></div>
        </div>
    </div>
</div>

<!-- SECTION 1 -->
<div class="section fade-in">
    <h2 class="section-title">🎯 14.1 不改变方向的向量</h2>

    <div class="content-block">
        <h3>🌪️ 类比：风中的物体</h3>
        <p>
            想象一阵特殊的"数学风"（一个线性变换）吹过来：
        </p>
        <ul>
            <li>大多数物体会被吹得<strong>东倒西歪</strong>（方向改变）</li>
            <li>但有些物体正好<strong>顺着风向</strong>，只会被吹得更远或更近，方向不变！</li>
        </ul>
        <p>
            这些"顺着风向"的物体，就是<span class="term" data-en="Eigenvector">特征向量</span>。
        </p>

        <div class="theorem-card">
            <div class="theorem-title">💡 特征向量的定义</div>
            <div class="math-block">
                $$ A \vec{v} = \lambda \vec{v} $$
            </div>
            <p style="text-align: center;">
                变换后，$\vec{v}$ 只被<strong>拉伸或压缩</strong>了 $\lambda$ 倍，方向不变！
            </p>
            <p style="font-size: 0.95em; color: var(--text-secondary); text-align: center; margin-top: 0.5rem;">
                $\lambda$（lambda）叫做<span class="term" data-en="Eigenvalue">特征值</span>，是拉伸的倍数。
            </p>
        </div>
    </div>
</div>

<!-- SECTION 2 -->
<div class="section fade-in">
    <h2 class="section-title">🔍 14.2 几个典型例子</h2>

    <div class="content-block">
        <div class="example-ladder">
            <div class="example-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-label">剪切变换</div>
                    <p>$\begin{bmatrix} 1 & 1 \\ 0 & 1 \end{bmatrix}$ 会让大多数向量倾斜</p>
                    <p style="margin-top: 0.5rem;">
                        但水平向量（沿 x 轴）完全不动！<br>
                        特征向量：$\begin{bmatrix}1\\0\end{bmatrix}$，特征值 $\lambda = 1$
                    </p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-label">缩放变换</div>
                    <p>$\begin{bmatrix} 2 & 0 \\ 0 & 3 \end{bmatrix}$ 沿 x 轴放大 2 倍，沿 y 轴放大 3 倍</p>
                    <p style="margin-top: 0.5rem;">
                        特征向量：$\begin{bmatrix}1\\0\end{bmatrix}$（$\lambda=2$）和
                        $\begin{bmatrix}0\\1\end{bmatrix}$（$\lambda=3$）
                    </p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-label">旋转变换</div>
                    <p>90° 旋转没有实数特征向量——任何方向都会被转走！</p>
                    <p style="font-size: 0.9em; color: var(--text-muted);">
                        （复数世界里有，但这是更高级的话题）
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Interactive Eigenvector Demo -->
<div class="section fade-in">
    <h2 class="section-title">🕹️ 动手体验：观察特征向量</h2>

    <div class="viz-container">
        <div class="viz-header">
            <span class="viz-title">特征向量不改变方向！</span>
            <span class="viz-badge" style="background: var(--accent-purple);">动画</span>
        </div>
        <div class="viz-canvas-wrapper" style="height: 400px;">
            <canvas id="viz-eigen" style="width: 100%; height: 100%;"></canvas>
        </div>
        <div class="viz-controls">
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <button class="btn btn-primary" id="btn-eigen-transform">▶️ 播放变换</button>
                <button class="btn btn-secondary" id="btn-eigen-reset">🔄 重置</button>
            </div>
            <p style="text-align: center; font-size: 0.9em; color: var(--text-muted); margin-top: 1rem;">
                灰色向量会改变方向，但<span style="color:#10b981">绿色</span>和<span style="color:#f97316">橙色</span>特征向量只会伸缩！
            </p>
        </div>
    </div>
</div>

<!-- SECTION 3 -->
<div class="section fade-in">
    <h2 class="section-title">🧮 14.3 如何找到特征值和特征向量？</h2>

    <div class="content-block">
        <p>从定义出发：$A\vec{v} = \lambda\vec{v}$</p>
        <p>移项：$A\vec{v} - \lambda\vec{v} = \vec{0}$，即 $(A - \lambda I)\vec{v} = \vec{0}$</p>

        <div class="theorem-card">
            <div class="theorem-title">🔑 特征方程</div>
            <p>为了让方程有非零解，$(A - \lambda I)$ 必须不可逆，即：</p>
            <div class="math-block">
                $$ \det(A - \lambda I) = 0 $$
            </div>
            <p style="text-align: center;">
                这就是<span class="term" data-en="Characteristic Equation">特征方程</span>！
            </p>
        </div>

        <div class="deep-dive">
            <div class="deep-title">计算步骤</div>
            <ol>
                <li>计算 $\det(A - \lambda I) = 0$，解出 $\lambda$（特征值）</li>
                <li>对每个 $\lambda$，解 $(A - \lambda I)\vec{v} = \vec{0}$，得到特征向量</li>
            </ol>
        </div>
    </div>
</div>

<!-- SECTION 4 -->
<div class="section fade-in">
    <h2 class="section-title">✨ 14.4 对角化：最简形式</h2>

    <div class="content-block">
        <div class="aha-box">
            <div class="aha-title">关键洞察</div>
            <p>
                如果我们用<strong>特征向量作为新的基</strong>，变换矩阵会变成最简单的形式——<span class="term" data-en="Diagonal Matrix">对角矩阵</span>！
            </p>
            <div class="math-block">
                $$ P^{-1}AP = \begin{bmatrix} \lambda_1 & 0 \\ 0 & \lambda_2 \end{bmatrix} $$
            </div>
            <p style="margin-top: 0.5rem;">
                对角矩阵的威力：计算 $A^{100}$ 变得超级简单！
            </p>
        </div>
    </div>
</div>

<!-- SECTION 5: 应用 -->
<div class="section fade-in">
    <h2 class="section-title">🌍 14.5 特征值的超级应用</h2>

    <div class="real-world">
        <div class="real-world-item">
            <div class="rw-icon">🔍</div>
            <div class="rw-title">Google 搜索</div>
            <div class="rw-desc">PageRank 用特征向量给网页排名！</div>
        </div>
        <div class="real-world-item">
            <div class="rw-icon">📊</div>
            <div class="rw-title">数据科学</div>
            <div class="rw-desc">PCA 找数据变化最大的方向</div>
        </div>
        <div class="real-world-item">
            <div class="rw-icon">🌉</div>
            <div class="rw-title">工程振动</div>
            <div class="rw-desc">桥梁的自然振动模式</div>
        </div>
        <div class="real-world-item">
            <div class="rw-icon">⚛️</div>
            <div class="rw-title">量子物理</div>
            <div class="rw-desc">测量结果就是特征值！</div>
        </div>
        <div class="real-world-item">
            <div class="rw-icon">🤖</div>
            <div class="rw-title">机器学习</div>
            <div class="rw-desc">协方差矩阵的特征分解</div>
        </div>
        <div class="real-world-item">
            <div class="rw-icon">🎵</div>
            <div class="rw-title">音频处理</div>
            <div class="rw-desc">傅里叶变换的核心思想</div>
        </div>
    </div>

    <div class="connection-box">
        <div class="connection-title">为什么这么重要？</div>
        <p>
            特征向量是变换中<strong>最"自然"的方向</strong>。
            如果你在特征向量的基下看问题，复杂的变换会变得简单到不可思议。
        </p>
    </div>
</div>

<!-- 总结 -->
<div class="section fade-in">
    <h2 class="section-title">🎯 本章收获</h2>

    <div class="content-block">
        <div class="vocab-summary">
            <div class="vocab-title">词汇复习</div>
            <div class="vocab-list">
                <div class="vocab-item"><span class="vocab-zh">特征向量</span><span class="vocab-en">方向不变的向量</span></div>
                <div class="vocab-item"><span class="vocab-zh">特征值</span><span class="vocab-en">拉伸倍数</span></div>
                <div class="vocab-item"><span class="vocab-zh">特征基</span><span class="vocab-en">最好的坐标系</span></div>
                <div class="vocab-item"><span class="vocab-zh">对角化</span><span class="vocab-en">用特征向量为基</span></div>
            </div>
        </div>

        <!-- 新增：练习题 -->
        <div class="challenge-box" style="margin-top: 2rem;">
            <div class="challenge-title">✍️ 动手练习</div>
            <p><strong>不用计算，凭几何直觉判断下列矩阵的特征向量：</strong></p>
            <ol>
                <li>$I = \begin{bmatrix} 1 & 0 \\ 0 & 1 \end{bmatrix}$（什么都不做）</li>
                <li>$S = \begin{bmatrix} 2 & 0 \\ 0 & 2 \end{bmatrix}$（均匀放大 2 倍）</li>
                <li>$P = \begin{bmatrix} 1 & 0 \\ 0 & 0 \end{bmatrix}$（投影到 x 轴）</li>
            </ol>
            <details style="margin-top: 1rem;">
                <summary style="cursor: pointer; color: var(--accent-blue); font-weight: bold;">👆 点击查看答案</summary>
                <div
                    style="margin-top: 0.5rem; padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                    <ol>
                        <li><strong>所有非零向量！</strong> 因为 $I\vec{v} = 1\vec{v}$，每个向量方向都不变，特征值是 1。</li>
                        <li><strong>所有非零向量！</strong> 因为 $S\vec{v} = 2\vec{v}$，每个向量都变成 2 倍长，方向不变，特征值是 2。</li>
                        <li>
                            <strong>x 轴上的向量</strong>（方向不变，$\lambda=1$）<br>
                            <strong>y 轴上的向量</strong>（变成零向量，$\lambda=0$）
                        </li>
                    </ol>
                </div>
            </details>
        </div>

        <!-- 新增：思考题 -->
        <div class="challenge-box" style="margin-top: 2rem;">
            <div class="challenge-title">🤔 想一想</div>
            <p><strong>旋转 90° 的矩阵有实数特征向量吗？</strong></p>
            <details style="margin-top: 1rem;">
                <summary style="cursor: pointer; color: var(--accent-blue); font-weight: bold;">👆 点击查看答案</summary>
                <div
                    style="margin-top: 0.5rem; padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                    <p><strong>答案</strong>：没有（在实数范围内）。</p>
                    <p>
                        因为每个非零向量都被旋转了，方向都改变了！<br>
                        （注：如果在复数范围内，是有特征向量的，但这超出了本课程范围 😉）
                    </p>
                </div>
            </details>
        </div>

        <!-- 新增：趣味知识 -->
        <div class="deep-dive" style="margin-top: 2rem; border-left: 4px solid var(--accent-purple);">
            <div class="deep-title">🌐 趣味应用：Google 搜索的秘密</div>
            <p>
                Google 为什么这么强？最早的核心算 PageRank 本质上就是求一个<strong>巨大矩阵的特征向量</strong>（特征值为 1）。
            </p>
            <p style="margin-top: 0.5rem;">
                它把整个互联网看作一个巨大的图，每个网页是一个节点。
                计算出的特征向量中，每个分量的大小就代表了对应网页的"重要性"或"排名"。
            </p>
        </div>

        <div class="theorem-card">
            <div class="theorem-title">核心要点</div>
            <ol style="margin: 0; padding-left: 1.5rem; line-height: 2.2;">
                <li><span class="term" data-en="Eigenvector">特征向量</span>：变换后方向不变的向量</li>
                <li><span class="term" data-en="Eigenvalue">特征值</span>：变换后拉伸/压缩的倍数</li>
                <li>公式：$A\vec{v} = \lambda\vec{v}$</li>
                <li>求法：$\det(A - \lambda I) = 0$</li>
                <li>用途：Google、数据分析、物理、工程...</li>
            </ol>
        </div>

        <div
            style="text-align: center; margin-top: 2rem; padding: 2rem; background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1)); border-radius: 12px;">
            <p style="font-size: 1.2rem; margin: 0;">
                🎓 <strong>你快要毕业了！</strong>
            </p>
            <p style="margin-top: 0.5rem;">
                特征向量是线性代数中最强大的工具之一。下一章是终极章节！
            </p>
        </div>
    </div>
</div>