<div class="chapter-header fade-in">
    <span class="chapter-badge">第 1 章</span>
    <h1 class="chapter-title">向量是什么？ <br><small style="font-size: 0.6em; color: var(--text-muted);">What is a
            Vector?</small></h1>
    <p class="chapter-description">
        想象你在玩《我的世界》，要告诉朋友一个宝藏的位置。你会怎么说？
        "向东走 100 格，向北走 50 格，再往上挖 20 格。"
        恭喜你——你刚刚用了一个<strong>向量</strong>！
    </p>
</div>

<!-- ==================== SECTION 1: 生活中的向量 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎮 1.1 生活中到处都是向量</h2>

    <div class="content-block">
        <p>
            在你意识到之前，你已经每天都在用"向量"了：
        </p>

        <div
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin: 2rem 0;">
            <div class="definition-card" style="border-left-color: #10b981;">
                <div class="definition-title">🏀 篮球传球</div>
                <p>"传到篮筐右边 2 米、前面 5 米的位置！"</p>
            </div>

            <div class="definition-card" style="border-left-color: #f97316;">
                <div class="definition-title">🎮 游戏走位</div>
                <p>"向右移动 3 格，向上跳 2 格"</p>
            </div>

            <div class="definition-card" style="border-left-color: #4a9eff;">
                <div class="definition-title">🗺️ 导航</div>
                <p>"向东 500 米，向北 300 米"</p>
            </div>

            <div class="definition-card" style="border-left-color: #ec4899;">
                <div class="definition-title">🚀 太空探索</div>
                <p>"火箭朝东偏北 30° 方向，以每秒 1000 米的速度飞行"</p>
            </div>
        </div>

        <div class="theorem-card">
            <div class="theorem-title">💡 关键发现</div>
            <p>
                这些描述都有一个共同点：它们不只说"多少"，还说"往哪个方向"。
                <br><br>
                <strong>向量 = 大小 + 方向</strong>
            </p>
        </div>
    </div>
</div>

<!-- ==================== SECTION 2: 箭头的思维 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">➡️ 1.2 把向量想象成箭头</h2>

    <div class="content-block">
        <p>
            向量最直观的理解方式就是一支<strong>箭头</strong>：
        </p>
        <ul>
            <li>箭头的<strong>长度</strong>代表"走多远"或"力多大"</li>
            <li>箭头的<strong>方向</strong>代表"往哪走"或"推向哪边"</li>
        </ul>

        <div style="display: flex; justify-content: center; margin: 2rem 0;">
            <svg width="300" height="180" viewBox="0 0 300 180">
                <defs>
                    <marker id="arrow-main-y" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#4a9eff" />
                    </marker>
                </defs>

                <!-- Background grid -->
                <g stroke="#333" stroke-width="0.5">
                    <line x1="50" y1="20" x2="50" y2="160" />
                    <line x1="100" y1="20" x2="100" y2="160" />
                    <line x1="150" y1="20" x2="150" y2="160" />
                    <line x1="200" y1="20" x2="200" y2="160" />
                    <line x1="250" y1="20" x2="250" y2="160" />
                    <line x1="50" y1="40" x2="250" y2="40" />
                    <line x1="50" y1="80" x2="250" y2="80" />
                    <line x1="50" y1="120" x2="250" y2="120" />
                    <line x1="50" y1="160" x2="250" y2="160" />
                </g>

                <!-- The vector arrow -->
                <line x1="50" y1="160" x2="200" y2="40" stroke="#4a9eff" stroke-width="4"
                    marker-end="url(#arrow-main-y)" />

                <!-- Labels -->
                <text x="55" y="175" fill="#666" font-size="12">起点</text>
                <text x="205" y="35" fill="#4a9eff" font-size="12" font-weight="bold">终点</text>

                <!-- Length indicator -->
                <text x="140" y="120" fill="#4a9eff" font-size="14" transform="rotate(-38, 140, 120)">长度 = 大小</text>

                <!-- Direction arc -->
                <path d="M 80 160 A 30 30 0 0 0 60 135" stroke="#f97316" fill="none" stroke-width="2" />
                <text x="85" y="145" fill="#f97316" font-size="12">方向</text>
            </svg>
        </div>

        <p style="text-align: center; color: var(--text-secondary);">
            这支蓝色箭头就是一个向量：从起点出发，指向终点
        </p>
    </div>
</div>

<!-- ==================== SECTION 3: 坐标——向量的"地址" ==================== -->
<div class="section fade-in">
    <h2 class="section-title">📍 1.3 坐标：向量的"门牌号"</h2>

    <div class="content-block">
        <p>
            画箭头很直观，但如果要告诉电脑或朋友一个向量，我们需要更精确的方式——<strong>坐标</strong>。
        </p>

        <div class="example-card">
            <p><strong>🎮 游戏类比</strong></p>
            <p>
                想象你在一个方格纸上。你在原点（0, 0），宝藏在"向右 3 格，向上 2 格"的位置。
            </p>
            <p>
                我们可以写成：
            </p>
            <div style="text-align: center; font-size: 1.5rem; margin: 1rem 0;">
                $\vec{v} = \begin{bmatrix} 3 \\ 2 \end{bmatrix}$
            </div>
            <p style="font-size: 0.9em; color: var(--text-secondary);">
                第一个数 = 横向（左右）<br>
                第二个数 = 纵向（上下）
            </p>
        </div>
    </div>

    <!-- INTERACTIVE: 拖拽看坐标 -->
    <div class="viz-container">
        <div class="viz-header">
            <span class="viz-title">🕹️ 动手试试：拖拽向量</span>
            <span class="viz-badge" style="background: var(--accent-green);">互动</span>
        </div>
        <div class="viz-canvas-wrapper" style="height: 400px;">
            <canvas id="viz-vector-basic" style="width: 100%; height: 100%;"></canvas>
        </div>
        <div class="viz-controls">
            <div style="text-align: center;">
                <p style="margin: 0;">当前向量坐标：</p>
                <div id="vector-display" style="font-size: 1.5rem; margin: 0.5rem 0;"></div>
                <p style="font-size: 0.9em; color: var(--text-muted);">
                    抓住蓝色箭头的尖端，拖到任何你想去的地方！
                </p>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 4: 向量加法 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">➕ 1.4 向量加法：连续走两步</h2>

    <div class="content-block">
        <h3>🚶 生活类比：走路</h3>
        <p>
            假设你从家出发：
        </p>
        <ol>
            <li>先向东走 3 步，向北走 1 步（第一个向量 $\vec{v}$）</li>
            <li>再向东走 1 步，向北走 2 步（第二个向量 $\vec{w}$）</li>
        </ol>
        <p>
            最终你在哪里？<strong>向东 4 步，向北 3 步</strong>！
        </p>

        <div class="math-block">
            $$ \begin{bmatrix} 3 \\ 1 \end{bmatrix} + \begin{bmatrix} 1 \\ 2 \end{bmatrix} = \begin{bmatrix} 4 \\ 3
            \end{bmatrix} $$
        </div>

        <div class="theorem-card">
            <div class="theorem-title">🔑 向量加法规则</div>
            <p>
                对应位置的数字相加！
                <br>
                横向加横向，纵向加纵向。就这么简单！
            </p>
        </div>
    </div>

    <!-- INTERACTIVE: 向量加法 -->
    <div class="viz-container">
        <div class="viz-header">
            <span class="viz-title">🕹️ 动手试试：向量加法</span>
            <span class="viz-badge" style="background: var(--accent-blue);">互动</span>
        </div>
        <div class="viz-canvas-wrapper" style="height: 400px;">
            <canvas id="viz-vector-add" style="width: 100%; height: 100%;"></canvas>
        </div>
        <div class="viz-controls">
            <p style="text-align: center; color: var(--text-muted);">
                拖拽 <span style="color:#4a9eff">蓝色向量 v</span> 和 <span style="color:#f97316">橙色向量 w</span>，
                观察 <span style="color:#10b981">绿色结果 (v+w)</span> 如何变化！
            </p>
        </div>
    </div>
</div>

<!-- ==================== SECTION 5: 向量缩放 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">✖️ 1.5 缩放向量：放大和缩小</h2>

    <div class="content-block">
        <h3>🍕 生活类比：披萨食谱</h3>
        <p>
            假设一份披萨需要 2 杯面粉和 1 杯水。
        </p>
        <p>
            如果我要做 <strong>3 份</strong>呢？很简单，每样东西都乘以 3：
        </p>
        <div class="math-block">
            $$ 3 \times \begin{bmatrix} 2 \\ 1 \end{bmatrix} = \begin{bmatrix} 6 \\ 3 \end{bmatrix} $$
        </div>
        <p>
            这就是<strong>标量乘法</strong>——用一个数字（标量）去缩放向量。
        </p>

        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 1rem; margin: 2rem 0; text-align: center;">
            <div style="background: var(--bg-tertiary); padding: 1rem; border-radius: 8px;">
                <p style="font-size: 2rem;">×2</p>
                <p>向量变成 2 倍长</p>
            </div>
            <div style="background: var(--bg-tertiary); padding: 1rem; border-radius: 8px;">
                <p style="font-size: 2rem;">×0.5</p>
                <p>向量缩短一半</p>
            </div>
            <div style="background: var(--bg-tertiary); padding: 1rem; border-radius: 8px;">
                <p style="font-size: 2rem;">×(-1)</p>
                <p>向量反向！</p>
            </div>
        </div>
    </div>

    <!-- INTERACTIVE: 缩放 -->
    <div class="viz-container">
        <div class="viz-header">
            <span class="viz-title">🕹️ 动手试试：缩放向量</span>
            <span class="viz-badge" style="background: var(--accent-purple);">互动</span>
        </div>
        <div class="viz-canvas-wrapper" style="height: 400px;">
            <canvas id="viz-vector-scale" style="width: 100%; height: 100%;"></canvas>
        </div>
        <div class="viz-controls">
            <div style="text-align: center;">
                <label>缩放倍数：<span id="scalar-val">2.0</span></label>
                <br>
                <input type="range" id="scalar-slider" min="-3" max="3" step="0.1" value="2"
                    style="width: 80%; max-width: 300px; margin-top: 0.5rem;">
                <p style="font-size: 0.9em; color: var(--text-muted); margin-top: 1rem;">
                    试试把滑块拉到负数，看看会发生什么！
                </p>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 6: 总结 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎯 本章收获</h2>

    <div class="content-block">
        <div class="theorem-card">
            <div class="theorem-title">今天你学会了</div>
            <ol style="margin: 0; padding-left: 1.5rem; line-height: 2.2;">
                <li><strong>向量</strong> = 同时有大小和方向的东西（像箭头）</li>
                <li><strong>坐标</strong> = 用数字列表表示向量（如 $\begin{bmatrix} 3 \\ 2 \end{bmatrix}$）</li>
                <li><strong>加法</strong> = 把两个向量"首尾相接"，对应位置数字相加</li>
                <li><strong>缩放</strong> = 用一个数乘以向量，放大、缩小或反向</li>
            </ol>
        </div>

        <div
            style="text-align: center; margin-top: 2rem; padding: 2rem; background: linear-gradient(135deg, rgba(74, 158, 255, 0.1), rgba(16, 185, 129, 0.1)); border-radius: 12px;">
            <p style="font-size: 1.3rem; margin: 0;">
                🎉 <strong>恭喜！</strong> 你已经踏入了线性代数的世界！
            </p>
            <p style="color: var(--text-secondary); margin-top: 0.5rem;">
                下一章，我们将学习如何用向量"搭建"整个空间。
            </p>
        </div>
    </div>
</div>