<div class="chapter-header fade-in">
    <span class="chapter-badge">第 1 章</span>
    <h1 class="chapter-title">向量：数学世界的指路箭头 <br><small style="font-size: 0.6em; color: var(--text-muted);">Vectors:
            Arrows That Point the Way</small></h1>
    <p class="chapter-description">
        在你意识到之前，你每天都在使用向量：导航、游戏、甚至描述天气。
        这一章将彻底改变你对"方向"和"位置"的理解。
    </p>
</div>

<!-- ==================== 核心词汇预览 ==================== -->
<div class="section fade-in">
    <div class="vocab-summary">
        <div class="vocab-title">本章核心词汇</div>
        <div class="vocab-list">
            <div class="vocab-item">
                <span class="vocab-zh">向量</span>
                <span class="vocab-en">Vector</span>
            </div>
            <div class="vocab-item">
                <span class="vocab-zh">标量</span>
                <span class="vocab-en">Scalar</span>
            </div>
            <div class="vocab-item">
                <span class="vocab-zh">坐标</span>
                <span class="vocab-en">Coordinates</span>
            </div>
            <div class="vocab-item">
                <span class="vocab-zh">原点</span>
                <span class="vocab-en">Origin</span>
            </div>
            <div class="vocab-item">
                <span class="vocab-zh">向量加法</span>
                <span class="vocab-en">Vector Addition</span>
            </div>
            <div class="vocab-item">
                <span class="vocab-zh">数乘</span>
                <span class="vocab-en">Scalar Multiplication</span>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 1: 什么是向量 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">� 1.1 向量到底是什么？</h2>

    <div class="content-block">
        <p>
            在日常生活中，有些信息只需要一个数字就能表达：
        </p>
        <ul>
            <li>温度：25°C</li>
            <li>价格：100 元</li>
            <li>年龄：14 岁</li>
        </ul>
        <p>
            这类只有"大小"没有"方向"的量，叫做 <span class="term" data-en="Scalar">标量</span>。
        </p>

        <p style="margin-top: 1.5rem;">
            但有些信息，光说大小是不够的。比如：
        </p>
        <ul>
            <li>"走 100 米" — 往哪走？</li>
            <li>"用 10 牛的力" — 往哪推？</li>
            <li>"飞行速度 800 公里/小时" — 往哪飞？</li>
        </ul>

        <div class="theorem-card">
            <div class="theorem-title">💡 核心定义</div>
            <p style="font-size: 1.15rem; text-align: center;">
                <span class="term" data-en="Vector">向量</span> = 同时拥有<strong>大小</strong>和<strong>方向</strong>的量
            </p>
        </div>
    </div>
</div>

<!-- ==================== SECTION 2: 三种理解方式 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">👁️ 1.2 三种眼光看向量</h2>

    <div class="content-block">
        <p>
            不同领域的人，对向量有不同的理解。这三种视角都对，而且相互补充：
        </p>

        <div class="example-ladder">
            <div class="example-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-label">🎮 游戏程序员的视角</div>
                    <p>
                        向量就是一个<strong>数字列表</strong>。
                        比如游戏角色的位置 (100, 50) 表示"在屏幕右边 100 像素、下面 50 像素"。
                    </p>
                    <div style="text-align: center; margin-top: 0.5rem; font-size: 1.2rem;">
                        $\vec{v} = \begin{bmatrix} 100 \\ 50 \end{bmatrix}$
                    </div>
                </div>
            </div>

            <div class="example-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-label">🏀 体育教练的视角</div>
                    <p>
                        向量就是一支<strong>箭头</strong>。
                        箭头的长度表示力量/速度的大小，箭头指向表示方向。
                    </p>
                    <p style="font-size: 0.9em; color: var(--text-secondary); margin-top: 0.5rem;">
                        "传球到右前方 5 米处" = 一个指向右前方、长度对应 5 米的箭头
                    </p>
                </div>
            </div>

            <div class="example-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-label">🧮 数学家的视角</div>
                    <p>
                        向量是任何能做<strong>加法</strong>和<strong>缩放</strong>的东西。
                    </p>
                    <p style="font-size: 0.9em; color: var(--text-secondary); margin-top: 0.5rem;">
                        这是最抽象也是最强大的视角，我们最后一章会深入探讨。
                    </p>
                </div>
            </div>
        </div>

        <div class="aha-box">
            <div class="aha-title">恍然大悟时刻</div>
            <p>
                这三种视角不矛盾！数字列表就是箭头的精确描述方式，而箭头让数字变得直观可见。
                <strong>一个概念，多种表达</strong>——这是数学的美妙之处。
            </p>
        </div>
    </div>
</div>

<!-- ==================== SECTION 3: 坐标系统 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">📍 1.3 坐标：给向量一个"地址"</h2>

    <div class="content-block">
        <h3>🗺️ 类比：城市地图</h3>
        <p>
            想象你在一个方格城市里。市中心是 <span class="term" data-en="Origin">原点</span>，记作 (0, 0)。
        </p>
        <p>
            每条街道都是一格，你可以用"向东几格、向北几格"来描述任何位置。
        </p>

        <div style="display: flex; justify-content: center; margin: 2rem 0;">
            <svg width="320" height="280" viewBox="0 0 320 280">
                <!-- 网格 -->
                <g stroke="#333" stroke-width="0.5">
                    <line x1="40" y1="40" x2="40" y2="240" />
                    <line x1="80" y1="40" x2="80" y2="240" />
                    <line x1="120" y1="40" x2="120" y2="240" />
                    <line x1="160" y1="40" x2="160" y2="240" />
                    <line x1="200" y1="40" x2="200" y2="240" />
                    <line x1="240" y1="40" x2="240" y2="240" />
                    <line x1="280" y1="40" x2="280" y2="240" />

                    <line x1="40" y1="40" x2="280" y2="40" />
                    <line x1="40" y1="80" x2="280" y2="80" />
                    <line x1="40" y1="120" x2="280" y2="120" />
                    <line x1="40" y1="160" x2="280" y2="160" />
                    <line x1="40" y1="200" x2="280" y2="200" />
                    <line x1="40" y1="240" x2="280" y2="240" />
                </g>

                <!-- 坐标轴 -->
                <line x1="40" y1="200" x2="280" y2="200" stroke="#666" stroke-width="2" />
                <line x1="120" y1="40" x2="120" y2="240" stroke="#666" stroke-width="2" />

                <!-- 原点标记 -->
                <circle cx="120" cy="200" r="5" fill="#fff" stroke="#4a9eff" stroke-width="2" />
                <text x="110" y="220" fill="#4a9eff" font-size="12">(0,0)</text>
                <text x="100" y="260" fill="#4a9eff" font-size="14" font-weight="bold">原点 Origin</text>

                <!-- 向量箭头 -->
                <defs>
                    <marker id="arrow-v1" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#4a9eff" />
                    </marker>
                </defs>
                <line x1="120" y1="200" x2="240" y2="120" stroke="#4a9eff" stroke-width="3"
                    marker-end="url(#arrow-v1)" />

                <!-- 坐标标注 -->
                <text x="250" y="115" fill="#4a9eff" font-size="14" font-weight="bold">(3, 2)</text>

                <!-- 分量虚线 -->
                <line x1="120" y1="200" x2="240" y2="200" stroke="#f97316" stroke-width="2" stroke-dasharray="5,3" />
                <line x1="240" y1="200" x2="240" y2="120" stroke="#10b981" stroke-width="2" stroke-dasharray="5,3" />

                <!-- 分量标注 -->
                <text x="175" y="218" fill="#f97316" font-size="12">向右 3 格</text>
                <text x="250" y="165" fill="#10b981" font-size="12">向上 2 格</text>
            </svg>
        </div>

        <div class="theorem-card">
            <div class="theorem-title">🔑 坐标的本质</div>
            <p>
                <span class="term" data-en="Coordinates">坐标</span> (3, 2) 的意思是：
            </p>
            <ul style="margin: 0.5rem 0 0 0;">
                <li>从原点出发</li>
                <li>沿着 x 轴（水平）走 <strong>3</strong> 个单位</li>
                <li>沿着 y 轴（垂直）走 <strong>2</strong> 个单位</li>
            </ul>
        </div>
    </div>

    <!-- 交互区域 -->
    <div class="viz-container">
        <div class="viz-header">
            <span class="viz-title">🕹️ 动手实验：拖拽看坐标变化</span>
            <span class="viz-badge" style="background: var(--accent-green);">互动</span>
        </div>
        <div class="viz-canvas-wrapper" style="height: 400px;">
            <canvas id="viz-vector-basic" style="width: 100%; height: 100%;"></canvas>
        </div>
        <div class="viz-controls">
            <div style="text-align: center;">
                <p style="margin: 0;">当前向量：</p>
                <div id="vector-display"
                    style="font-size: 1.8rem; margin: 0.5rem 0; font-weight: bold; color: var(--accent-blue);"></div>
                <p style="font-size: 0.9em; color: var(--text-muted);">
                    抓住蓝色箭头的尖端，拖到任何位置，观察坐标如何变化！
                </p>
            </div>
        </div>
    </div>

    <div class="challenge-box">
        <div class="challenge-title">小挑战</div>
        <p>你能把向量拖到 (4, 3) 的位置吗？拖到 (-2, 1) 呢？负数表示什么？</p>
    </div>
</div>

<!-- ==================== SECTION 4: 向量加法 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">➕ 1.4 向量加法：走两步</h2>

    <div class="content-block">
        <h3>🚶 类比：分段走路</h3>
        <p>
            假设你从家出发去书店：
        </p>
        <ol>
            <li>第一段：向东走 3 个街区，向北走 1 个街区 → 向量 $\vec{v} = (3, 1)$</li>
            <li>第二段：向东走 1 个街区，向北走 2 个街区 → 向量 $\vec{w} = (1, 2)$</li>
        </ol>
        <p>
            <strong>问题</strong>：书店在哪里？（相对于家的位置）
        </p>

        <div class="example-ladder">
            <div class="example-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-label">直觉方法</div>
                    <p>把走过的所有路加起来：向东一共 3+1=4 个街区，向北一共 1+2=3 个街区</p>
                </div>
            </div>

            <div class="example-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-label">数学表达</div>
                    <div class="math-block">
                        $$ \vec{v} + \vec{w} = \begin{bmatrix} 3 \\ 1 \end{bmatrix} + \begin{bmatrix} 1 \\ 2
                        \end{bmatrix} = \begin{bmatrix} 3+1 \\ 1+2 \end{bmatrix} = \begin{bmatrix} 4 \\ 3 \end{bmatrix}
                        $$
                    </div>
                </div>
            </div>

            <div class="example-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-label">几何理解："首尾相接"</div>
                    <p>把第二个向量的起点放到第一个向量的终点，然后从原点画一条直线到最终位置——这就是结果向量！</p>
                </div>
            </div>
        </div>

        <div class="theorem-card">
            <div class="theorem-title">🔑 向量加法规则</div>
            <p>
                <span class="term" data-en="Vector Addition">向量加法</span>：对应位置的数字相加
            </p>
            <div class="math-block">
                $$ \begin{bmatrix} a \\ b \end{bmatrix} + \begin{bmatrix} c \\ d \end{bmatrix} = \begin{bmatrix} a+c \\
                b+d \end{bmatrix} $$
            </div>
        </div>
    </div>

    <div class="viz-container">
        <div class="viz-header">
            <span class="viz-title">🕹️ 动手实验：向量加法</span>
            <span class="viz-badge" style="background: var(--accent-blue);">互动</span>
        </div>
        <div class="viz-canvas-wrapper" style="height: 400px;">
            <canvas id="viz-vector-add" style="width: 100%; height: 100%;"></canvas>
        </div>
        <div class="viz-controls">
            <p style="text-align: center; color: var(--text-muted);">
                拖拽 <span style="color:#4a9eff; font-weight:bold;">蓝色向量 v</span> 和
                <span style="color:#f97316; font-weight:bold;">橙色向量 w</span>，
                观察 <span style="color:#10b981; font-weight:bold;">绿色结果 (v+w)</span> 如何变化！
            </p>
        </div>
    </div>

    <div class="connection-box">
        <div class="connection-title">概念联结</div>
        <p>
            向量加法的"首尾相接"方法，在物理学中用于合成力、合成速度。
            多个力作用在同一点上的总效果 = 所有力向量的加法结果！
        </p>
    </div>
</div>

<!-- ==================== SECTION 5: 数乘 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">✖️ 1.5 数乘：放大和缩小</h2>

    <div class="content-block">
        <h3>🍕 类比：按比例放大食谱</h3>
        <p>
            如果一份披萨需要 (2 杯面粉, 1 杯水)，那 3 份需要多少？
        </p>
        <div class="math-block">
            $$ 3 \times \begin{bmatrix} 2 \\ 1 \end{bmatrix} = \begin{bmatrix} 6 \\ 3 \end{bmatrix} $$
        </div>
        <p>
            这就是 <span class="term" data-en="Scalar Multiplication">数乘</span>（又叫标量乘法）！
        </p>

        <div class="deep-dive">
            <div class="deep-title">深入理解：数乘的几何效果</div>
            <div
                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 1rem;">
                <div
                    style="text-align: center; padding: 1rem; background: rgba(74, 158, 255, 0.1); border-radius: 8px;">
                    <p style="font-size: 1.5rem; margin: 0; color: var(--accent-blue);">×2</p>
                    <p style="margin: 0.5rem 0 0 0;">向量变成 2 倍长<br><small>方向不变</small></p>
                </div>
                <div
                    style="text-align: center; padding: 1rem; background: rgba(249, 115, 22, 0.1); border-radius: 8px;">
                    <p style="font-size: 1.5rem; margin: 0; color: #f97316;">×0.5</p>
                    <p style="margin: 0.5rem 0 0 0;">向量缩短一半<br><small>方向不变</small></p>
                </div>
                <div style="text-align: center; padding: 1rem; background: rgba(239, 68, 68, 0.1); border-radius: 8px;">
                    <p style="font-size: 1.5rem; margin: 0; color: #ef4444;">×(−1)</p>
                    <p style="margin: 0.5rem 0 0 0;">向量反向<br><small>长度不变</small></p>
                </div>
                <div
                    style="text-align: center; padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                    <p style="font-size: 1.5rem; margin: 0; color: #10b981;">×0</p>
                    <p style="margin: 0.5rem 0 0 0;">向量消失<br><small>变成零向量</small></p>
                </div>
            </div>
        </div>

        <div class="aha-box">
            <div class="aha-title">恍然大悟时刻</div>
            <p>
                数乘中的"数"叫做 <span class="term" data-en="Scalar">标量</span>，因为它只改变向量的"规模"（scale），不改变方向。
                这就是"标量"名字的由来！
            </p>
        </div>
    </div>

    <div class="viz-container">
        <div class="viz-header">
            <span class="viz-title">🕹️ 动手实验：缩放向量</span>
            <span class="viz-badge" style="background: var(--accent-purple);">互动</span>
        </div>
        <div class="viz-canvas-wrapper" style="height: 400px;">
            <canvas id="viz-vector-scale" style="width: 100%; height: 100%;"></canvas>
        </div>
        <div class="viz-controls">
            <div style="text-align: center;">
                <label style="font-size: 1.1rem;">缩放倍数 k = <span id="scalar-val"
                        style="color: var(--accent-purple); font-weight: bold;">2.0</span></label>
                <br>
                <input type="range" id="scalar-slider" min="-3" max="3" step="0.1" value="2"
                    style="width: 80%; max-width: 300px; margin-top: 0.5rem;">
                <p style="font-size: 0.9em; color: var(--text-muted); margin-top: 1rem;">
                    🎯 挑战：把滑块拉到 -1，观察向量发生什么变化？
                </p>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 6: 为什么向量重要 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🌍 1.6 向量在现实世界中无处不在</h2>

    <div class="why-matters">
        <div class="why-title">为什么你应该关心向量？</div>
        <p>因为你每天都在和向量打交道，只是可能没意识到：</p>
    </div>

    <div class="real-world">
        <div class="real-world-item">
            <div class="rw-icon">🎮</div>
            <div class="rw-title">游戏开发</div>
            <div class="rw-desc">角色移动、子弹轨迹、碰撞检测</div>
        </div>
        <div class="real-world-item">
            <div class="rw-icon">🗺️</div>
            <div class="rw-title">导航地图</div>
            <div class="rw-desc">GPS 定位、路径规划</div>
        </div>
        <div class="real-world-item">
            <div class="rw-icon">🤖</div>
            <div class="rw-title">AI 推荐</div>
            <div class="rw-desc">用向量表示你的喜好</div>
        </div>
        <div class="real-world-item">
            <div class="rw-icon">🎬</div>
            <div class="rw-title">电影特效</div>
            <div class="rw-desc">3D 动画、光影渲染</div>
        </div>
        <div class="real-world-item">
            <div class="rw-icon">🏀</div>
            <div class="rw-title">运动分析</div>
            <div class="rw-desc">球的速度和旋转</div>
        </div>
        <div class="real-world-item">
            <div class="rw-icon">🚀</div>
            <div class="rw-title">航天航空</div>
            <div class="rw-desc">火箭轨道计算</div>
        </div>
    </div>
</div>

<!-- ==================== 总结 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎯 本章收获</h2>

    <div class="content-block">
        <div class="vocab-summary">
            <div class="vocab-title">词汇复习</div>
            <div class="vocab-list">
                <div class="vocab-item">
                    <span class="vocab-zh">向量 Vector</span>
                    <span class="vocab-en">有大小+方向的量</span>
                </div>
                <div class="vocab-item">
                    <span class="vocab-zh">标量 Scalar</span>
                    <span class="vocab-en">只有大小的数</span>
                </div>
                <div class="vocab-item">
                    <span class="vocab-zh">坐标 Coordinates</span>
                    <span class="vocab-en">向量的"地址"</span>
                </div>
                <div class="vocab-item">
                    <span class="vocab-zh">原点 Origin</span>
                    <span class="vocab-en">坐标系的零点</span>
                </div>
            </div>
        </div>

        <div class="theorem-card">
            <div class="theorem-title">核心要点</div>
            <ol style="margin: 0; padding-left: 1.5rem; line-height: 2.2;">
                <li><span class="term" data-en="Vector">向量</span> = 大小 + 方向（箭头或数字列表）</li>
                <li><span class="term" data-en="Coordinates">坐标</span> 告诉我们向量指向哪里</li>
                <li><span class="term" data-en="Addition">向量加法</span>：对应位置数字相加，几何上是"首尾相接"</li>
                <li><span class="term" data-en="Scalar Multiplication">数乘</span>：用数字缩放向量长度</li>
            </ol>
        </div>

        <div class="concept-map">
            <div class="concept-node">向量</div>
            <div class="concept-arrow">→</div>
            <div class="concept-node">坐标表示</div>
            <div class="concept-arrow">→</div>
            <div class="concept-node">加法 & 数乘</div>
            <div class="concept-arrow">→</div>
            <div class="concept-node" style="background: linear-gradient(135deg, #10b981, #059669);">下一章：搭建整个空间</div>
        </div>

        <div
            style="text-align: center; margin-top: 2rem; padding: 2rem; background: linear-gradient(135deg, rgba(74, 158, 255, 0.1), rgba(16, 185, 129, 0.1)); border-radius: 12px;">
            <p style="font-size: 1.3rem; margin: 0;">
                🎉 <strong>恭喜！</strong> 你已经迈出了第一步！
            </p>
            <p style="color: var(--text-secondary); margin-top: 0.5rem;">
                下一章，我们将学习如何用向量"搭建"整个平面——这就是线性组合的力量。
            </p>
        </div>
    </div>
</div>