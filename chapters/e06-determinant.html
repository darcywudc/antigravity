<div class="chapter-header fade-in">
    <span class="chapter-badge">第 6 章</span>
    <h1 class="chapter-title">神奇的魔法数字 <br><small style="font-size: 0.6em; color: var(--text-muted);">The
            Determinant</small></h1>
    <p class="chapter-description">
        每个矩阵都藏着一个秘密数字，叫做"行列式"。
        它能告诉你：变换会把空间放大还是缩小？会不会把空间压扁？甚至会不会镜像翻转？
    </p>
</div>

<!-- ==================== SECTION 1: 面积变化 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">📐 6.1 变换会改变面积</h2>

    <div class="content-block">
        <h3>🍕 披萨类比</h3>
        <p>
            想象你有一个 1×1 的方形披萨。经过某个矩阵变换后，它可能会变成：
        </p>

        <div
            style="display: flex; gap: 2rem; justify-content: center; margin: 2rem 0; flex-wrap: wrap; align-items: center;">
            <div style="text-align: center;">
                <svg width="80" height="80" viewBox="0 0 80 80">
                    <rect x="10" y="10" width="60" height="60" fill="rgba(74, 158, 255, 0.3)" stroke="#4a9eff"
                        stroke-width="2" />
                </svg>
                <p>原来<br>面积 = 1</p>
            </div>
            <div style="font-size: 2rem;">→</div>
            <div style="text-align: center;">
                <svg width="100" height="80" viewBox="0 0 100 80">
                    <polygon points="10,70 90,70 70,10 30,10" fill="rgba(16, 185, 129, 0.3)" stroke="#10b981"
                        stroke-width="2" />
                </svg>
                <p>变形后<br>面积 = ?</p>
            </div>
        </div>

        <div class="theorem-card">
            <div class="theorem-title">💡 行列式的意义</div>
            <p style="font-size: 1.2rem; text-align: center;">
                <strong>行列式 = 面积的放大倍数</strong>
            </p>
            <p style="text-align: center; margin-top: 1rem;">
                如果 det(A) = 3，那么任何图形经过变换后，面积都会变成原来的 3 倍！
            </p>
        </div>
    </div>
</div>

<!-- ==================== SECTION 2: 正负号 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🔄 6.2 正数还是负数？</h2>

    <div class="content-block">
        <p>
            行列式可以是正数，也可以是负数。这代表什么？
        </p>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
            <div class="definition-card" style="border-left-color: var(--accent-green);">
                <div class="definition-title">det > 0 ✅</div>
                <p><strong>正常变换</strong></p>
                <p style="font-size: 0.9em; color: var(--text-secondary);">
                    空间被拉伸/压缩，但方向没有翻转。就像在纸的正面画画，变换后还在正面。
                </p>
            </div>

            <div class="definition-card" style="border-left-color: var(--accent-red);">
                <div class="definition-title">det < 0 🔄</div>
                        <p><strong>镜像翻转</strong></p>
                        <p style="font-size: 0.9em; color: var(--text-secondary);">
                            空间被"翻过来"了！就像把纸翻到背面。左手变成了右手。
                        </p>
                </div>
            </div>

            <div class="example-card">
                <p><strong>🪞 镜子的例子</strong></p>
                <p>
                    水平翻转矩阵 $\begin{bmatrix} -1 & 0 \\ 0 & 1 \end{bmatrix}$ 的行列式 = -1
                </p>
                <p>
                    面积不变（|−1| = 1），但空间被"镜像"了！
                </p>
            </div>
        </div>
    </div>

    <!-- ==================== SECTION 3: 行列式为零 ==================== -->
    <div class="section fade-in">
        <h2 class="section-title">😱 6.3 行列式 = 0：灾难发生！</h2>

        <div class="content-block">
            <p>
                如果行列式等于零，意味着面积被压缩成了... <strong>零</strong>！
            </p>

            <div
                style="display: flex; gap: 2rem; justify-content: center; margin: 2rem 0; flex-wrap: wrap; align-items: center;">
                <div style="text-align: center;">
                    <svg width="80" height="80" viewBox="0 0 80 80">
                        <rect x="10" y="10" width="60" height="60" fill="rgba(74, 158, 255, 0.3)" stroke="#4a9eff"
                            stroke-width="2" />
                    </svg>
                    <p>2D 平面</p>
                </div>
                <div style="font-size: 2rem;">→</div>
                <div style="text-align: center;">
                    <svg width="80" height="80" viewBox="0 0 80 80">
                        <line x1="10" y1="70" x2="70" y2="10" stroke="#ef4444" stroke-width="4" />
                    </svg>
                    <p style="color: var(--accent-red);">压成一条线！</p>
                </div>
            </div>

            <div class="theorem-card">
                <div class="theorem-title">🚨 det = 0 的含义</div>
                <ul style="margin: 0;">
                    <li>空间被"压扁"成更低的维度</li>
                    <li>变换丢失了信息，<strong>无法恢复</strong>（不可逆）</li>
                    <li>矩阵的列向量"排成一条线"（线性相关）</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- ==================== SECTION 4: 计算公式 ==================== -->
    <div class="section fade-in">
        <h2 class="section-title">🧮 6.4 怎么计算？</h2>

        <div class="content-block">
            <h3>2×2 矩阵（超级简单！）</h3>
            <div style="text-align: center; margin: 2rem 0;">
                <div style="font-size: 1.4rem;">
                    $\det\begin{bmatrix} a & b \\ c & d \end{bmatrix} = ad - bc$
                </div>
                <p style="margin-top: 1rem; color: var(--text-secondary);">
                    主对角线相乘 $-$ 副对角线相乘
                </p>
            </div>

            <div class="example-card">
                <p><strong>快速练习</strong></p>
                <div class="math-block">
                    $$ \det\begin{bmatrix} 3 & 2 \\ 1 & 4 \end{bmatrix} = 3 \times 4 - 2 \times 1 = 12 - 2 = 10 $$
                </div>
                <p>这个变换会把面积放大 10 倍！</p>
            </div>
        </div>
    </div>

    <!-- ==================== SECTION 5: 总结 ==================== -->
    <div class="section fade-in">
        <h2 class="section-title">🎯 本章收获</h2>

        <div class="content-block">
            <div class="theorem-card">
                <div class="theorem-title">今天你学会了</div>
                <ol style="margin: 0; padding-left: 1.5rem; line-height: 2.2;">
                    <li><strong>行列式</strong> = 面积（/体积）的放大倍数</li>
                    <li><strong>det > 0</strong>：正常变换；<strong>det < 0</strong>：镜像翻转</li>
                    <li><strong>det = 0</strong>：空间被压扁，维度降低，变换不可逆</li>
                    <li>2×2 公式：$ad - bc$</li>
                </ol>
            </div>

            <div
                style="text-align: center; margin-top: 2rem; padding: 2rem; background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(249, 115, 22, 0.1)); border-radius: 12px;">
                <p style="font-size: 1.2rem; margin: 0;">
                    🔮 <strong>记住这个魔法</strong>
                </p>
                <p style="margin-top: 0.5rem;">
                    行列式是矩阵的"健康指标"——如果是 0，这个矩阵就"生病"了（不可逆）！
                </p>
            </div>
        </div>
    </div>