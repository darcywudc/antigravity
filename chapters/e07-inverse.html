<div class="chapter-header fade-in">
    <span class="chapter-badge">Chapter 7</span>
    <h1 class="chapter-title">逆矩阵、列空间与零空间 <br><small style="font-size: 0.6em; color: var(--text-muted);">Inverse
            Matrices, Column Space, and Null Space</small></h1>
    <p class="chapter-description">
        在理解了矩阵如何变换空间之后，一个自然的问题是：能不能<strong>撤销</strong>这个变换？
        这一章将探讨逆矩阵的几何意义，以及当逆矩阵不存在时会发生什么。
    </p>
</div>

<!-- ==================== SECTION 1: INVERSE MATRIX ==================== -->
<div class="section fade-in">
    <h2 class="section-title">7.1 逆矩阵的几何意义</h2>

    <div class="content-block">
        <h3>7.1.1 撤销变换</h3>
        <p>
            如果矩阵 $A$ 代表一个变换，那么它的逆矩阵 $A^{-1}$ 代表<strong>反向变换</strong>。
        </p>
        <div class="math-block">
            $$ A^{-1} A = I \quad \text{(先变换，再撤销 = 没变)} $$
        </div>

        <div class="theorem-card">
            <div class="theorem-title">几何直觉</div>
            <p>
                如果 $A$ 把空间旋转了 45°，那么 $A^{-1}$ 就把空间旋转回 -45°。<br>
                如果 $A$ 把空间拉伸 2 倍，那么 $A^{-1}$ 就把空间压缩到 1/2。
            </p>
        </div>
    </div>

    <div class="content-block">
        <h3>7.1.2 求解线性方程组</h3>
        <p>
            逆矩阵的主要用途是求解方程 $A\vec{x} = \vec{b}$：
        </p>
        <div class="math-block">
            $$ \vec{x} = A^{-1}\vec{b} $$
        </div>
        <p>
            几何解释：$\vec{b}$ 是变换后的位置，我们想找到变换前的位置 $\vec{x}$。
            用 $A^{-1}$ 把 $\vec{b}$ "变回去"就行了。
        </p>
    </div>
</div>

<!-- ==================== SECTION 2: WHEN INVERSE EXISTS ==================== -->
<div class="section fade-in">
    <h2 class="section-title">7.2 什么时候逆矩阵存在？</h2>

    <div class="content-block">
        <div class="theorem-card">
            <div class="theorem-title">逆矩阵存在的条件</div>
            <p>
                $A^{-1}$ 存在 ⟺ $\det(A) \neq 0$
            </p>
        </div>

        <p style="margin-top: 1rem;">
            回想上一章：$\det(A) = 0$ 意味着变换把空间"压扁"了。
            如果信息丢失了（多个点被压到同一个点），就无法恢复原来的位置——所以没有逆。
        </p>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
            <div class="definition-card" style="border-left-color: var(--accent-green);">
                <div class="definition-title" style="color: var(--accent-green);">$\det(A) \neq 0$：可逆</div>
                <p>变换是"一一对应"的，每个输出对应唯一的输入。逆变换存在。</p>
            </div>

            <div class="definition-card" style="border-left-color: var(--accent-red);">
                <div class="definition-title" style="color: var(--accent-red);">$\det(A) = 0$：奇异</div>
                <p>变换压缩了维度，信息丢失。无法恢复，没有逆矩阵。</p>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 3: COLUMN SPACE ==================== -->
<div class="section fade-in">
    <h2 class="section-title">7.3 列空间 (Column Space)</h2>

    <div class="content-block">
        <h3>7.3.1 定义</h3>
        <p>
            矩阵 $A$ 的<strong>列空间</strong>（也叫值域 Range）是它的列向量张成的空间。
        </p>
        <div class="math-block">
            $$ \text{Col}(A) = \text{Span}(\text{矩阵的所有列向量}) $$
        </div>

        <div class="theorem-card">
            <div class="theorem-title">几何意义</div>
            <p>
                列空间 = 变换 $A$ 能够到达的所有位置。<br>
                换句话说，$A\vec{x} = \vec{b}$ 有解 ⟺ $\vec{b}$ 在 $A$ 的列空间里。
            </p>
        </div>
    </div>

    <div class="content-block">
        <h3>7.3.2 秩 (Rank)</h3>
        <p>
            列空间的<strong>维度</strong>叫做矩阵的<strong>秩</strong>（Rank）。
        </p>
        <ul>
            <li>满秩 (Full Rank)：列空间 = 整个输出空间。变换没有压缩维度。</li>
            <li>秩亏 (Rank Deficient)：列空间是输出空间的子集。有些位置永远到不了。</li>
        </ul>
    </div>
</div>

<!-- ==================== SECTION 4: NULL SPACE ==================== -->
<div class="section fade-in">
    <h2 class="section-title">7.4 零空间 (Null Space / Kernel)</h2>

    <div class="content-block">
        <h3>7.4.1 定义</h3>
        <p>
            矩阵 $A$ 的<strong>零空间</strong>是所有被变换成零向量的向量的集合：
        </p>
        <div class="math-block">
            $$ \text{Null}(A) = \{ \vec{x} : A\vec{x} = \vec{0} \} $$
        </div>

        <div class="theorem-card">
            <div class="theorem-title">几何意义</div>
            <p>
                零空间 = 被"压到原点"的所有向量。<br>
                如果变换把一整条线压成了原点，那条线就是零空间的一部分。
            </p>
        </div>
    </div>

    <div class="content-block">
        <h3>7.4.2 与可逆性的关系</h3>
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 1rem 0;">
            <div class="definition-card" style="border-left-color: var(--accent-green);">
                <div class="definition-title">零空间只有 $\{\vec{0}\}$</div>
                <p>$A$ 满秩、可逆。只有零向量会被映射到零向量。</p>
            </div>

            <div class="definition-card" style="border-left-color: var(--accent-red);">
                <div class="definition-title">零空间非平凡</div>
                <p>$A$ 奇异、不可逆。有非零向量被"吞噬"到了原点。</p>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 5: COMPUTING INVERSE ==================== -->
<div class="section fade-in">
    <h2 class="section-title">7.5 如何计算逆矩阵</h2>

    <div class="content-block">
        <h3>7.5.1 2×2 矩阵公式</h3>
        <div class="math-block">
            $$
            \begin{bmatrix} a & b \\ c & d \end{bmatrix}^{-1}
            = \frac{1}{ad - bc} \begin{bmatrix} d & -b \\ -c & a \end{bmatrix}
            $$
        </div>
        <p>
            只需交换对角线元素，变换另两个元素的符号，然后除以行列式。
        </p>

        <div class="example-card">
            <p><strong>例子：</strong></p>
            <div class="math-block">
                $$
                \begin{bmatrix} 3 & 1 \\ 2 & 1 \end{bmatrix}^{-1}
                = \frac{1}{3 \cdot 1 - 1 \cdot 2} \begin{bmatrix} 1 & -1 \\ -2 & 3 \end{bmatrix}
                = \begin{bmatrix} 1 & -1 \\ -2 & 3 \end{bmatrix}
                $$
            </div>
        </div>
    </div>

    <div class="content-block">
        <h3>7.5.2 更大矩阵</h3>
        <p>
            对于更大的矩阵，通常使用<strong>高斯-约旦消元法</strong>：
            把 $[A | I]$ 化简成 $[I | A^{-1}]$。
        </p>
    </div>
</div>

<!-- ==================== SECTION 6: APPLICATIONS ==================== -->
<div class="section fade-in">
    <h2 class="section-title">7.6 应用</h2>

    <div class="content-block">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem;">
            <div class="definition-card">
                <div class="definition-title">📊 解方程组</div>
                <p>
                    $A\vec{x} = \vec{b}$ 的解是 $\vec{x} = A^{-1}\vec{b}$（如果逆存在）。
                    这是线性代数最基本的应用。
                </p>
            </div>

            <div class="definition-card">
                <div class="definition-title">🖼️ 图像校正</div>
                <p>
                    如果图像被某个变换扭曲了，应用逆变换可以恢复原图。
                </p>
            </div>

            <div class="definition-card">
                <div class="definition-title">🔐 编码解码</div>
                <p>
                    Hill 密码用矩阵加密，用逆矩阵解密。
                </p>
            </div>
        </div>
    </div>
</div>

<!-- ==================== SECTION 7: SUMMARY ==================== -->
<div class="section fade-in">
    <h2 class="section-title">本章总结</h2>

    <div class="content-block">
        <div class="theorem-card">
            <div class="theorem-title">核心要点</div>
            <ol style="margin: 0; padding-left: 1.5rem; line-height: 2;">
                <li><strong>逆矩阵</strong> $A^{-1}$ 是 $A$ 的"撤销"操作。</li>
                <li>$A^{-1}$ 存在 ⟺ $\det(A) \neq 0$。</li>
                <li><strong>列空间</strong> = $A$ 能到达的所有位置（输出的"领地"）。</li>
                <li><strong>零空间</strong> = 被 $A$ 压到原点的所有向量（"消失"的维度）。</li>
                <li><strong>秩</strong> = 列空间的维度 = 有效输出维度数。</li>
            </ol>
        </div>

        <p style="margin-top: 2rem;">
            下一章，我们将探讨当矩阵不是方阵时会发生什么——这将帮助我们理解维度之间的映射。
        </p>
    </div>
</div>