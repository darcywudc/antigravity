<div class="chapter-header fade-in">
    <span class="chapter-badge">第 7 章</span>
    <h1 class="chapter-title">Ctrl+Z：撤销变换 <br><small style="font-size: 0.6em; color: var(--text-muted);">Inverse
            Matrices</small></h1>
    <p class="chapter-description">
        你按错了按钮，把照片旋转歪了？按 Ctrl+Z 撤销！
        在数学世界里，"逆矩阵"就是矩阵变换的撤销键。
    </p>
</div>

<!-- ==================== SECTION 1: 撤销的概念 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">⏪ 7.1 每个操作都能撤销吗？</h2>

    <div class="content-block">
        <h3>🎮 游戏存档类比</h3>
        <p>
            在游戏里，如果你做了某个操作：
        </p>
        <ul>
            <li><strong>旋转角色 90°</strong> → 撤销：再转回 -90°</li>
            <li><strong>放大 2 倍</strong> → 撤销：缩小到 0.5 倍</li>
        </ul>
        <p>
            这种"做反向操作"在数学里叫做<strong>逆矩阵</strong>，写作 $A^{-1}$。
        </p>

        <div class="theorem-card">
            <div class="theorem-title">🔑 逆矩阵的定义</div>
            <div class="math-block">
                $$ A \times A^{-1} = I \quad (\text{恒等矩阵，什么都不做}) $$
            </div>
            <p style="text-align: center;">先做 A，再做 $A^{-1}$，等于什么都没做！</p>
        </div>
    </div>
</div>

<!-- ==================== SECTION 2: 什么时候不能撤销 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🚫 7.2 有些操作无法撤销</h2>

    <div class="content-block">
        <h3>📸 照片类比</h3>
        <p>
            想象你把一张彩色照片转成了黑白照片。
        </p>
        <p>
            你<strong>无法</strong>通过任何操作把它变回彩色！因为颜色信息<strong>丢失了</strong>。
        </p>

        <div
            style="display: flex; gap: 2rem; justify-content: center; margin: 2rem 0; flex-wrap: wrap; align-items: center;">
            <div style="text-align: center;">
                <div
                    style="width: 80px; height: 80px; background: linear-gradient(45deg, #ef4444, #f97316, #eab308, #22c55e, #3b82f6); border-radius: 8px;">
                </div>
                <p>彩色</p>
            </div>
            <div style="font-size: 2rem;">→</div>
            <div style="text-align: center;">
                <div
                    style="width: 80px; height: 80px; background: linear-gradient(45deg, #444, #666, #888, #aaa, #ccc); border-radius: 8px;">
                </div>
                <p>黑白</p>
            </div>
            <div style="font-size: 2rem; color: var(--accent-red);">✗→</div>
            <div style="text-align: center; color: var(--accent-red);">
                <p>无法恢复！</p>
            </div>
        </div>

        <div class="theorem-card" style="border-left-color: var(--accent-red);">
            <div class="theorem-title">🚨 逆矩阵不存在的情况</div>
            <p>
                当 <strong>det(A) = 0</strong> 时，矩阵没有逆！
            </p>
            <p style="font-size: 0.9em; color: var(--text-secondary); margin-top: 0.5rem;">
                因为变换把空间压扁了，信息丢失了，无法恢复。
            </p>
        </div>
    </div>
</div>

<!-- ==================== SECTION 3: 解方程 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🧮 7.3 逆矩阵能解方程！</h2>

    <div class="content-block">
        <p>
            假设有个谜题：
        </p>
        <div class="math-block">
            $$ A \times \vec{x} = \vec{b} $$
        </div>
        <p>
            "我对某个神秘向量 $\vec{x}$ 做了变换 A，得到了 $\vec{b}$。原来的 $\vec{x}$ 是什么？"
        </p>

        <div class="example-card">
            <p><strong>🔍 解法</strong></p>
            <p>用逆矩阵"撤销"！</p>
            <div class="math-block">
                $$ \vec{x} = A^{-1} \times \vec{b} $$
            </div>
            <p>就这么简单！逆矩阵把变换反过来做，找出原来的向量。</p>
        </div>
    </div>
</div>

<!-- ==================== SECTION 4: 2x2 逆矩阵公式 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">📝 7.4 2×2 逆矩阵速查</h2>

    <div class="content-block">
        <div style="text-align: center; margin: 2rem 0;">
            <div style="font-size: 1.2rem;">
                $\begin{bmatrix} a & b \\ c & d \end{bmatrix}^{-1} = \frac{1}{ad-bc}\begin{bmatrix} d & -b \\ -c & a
                \end{bmatrix}$
            </div>
        </div>

        <div class="definition-card">
            <div class="definition-title">📋 记忆口诀</div>
            <ol>
                <li>交换主对角线 (a 和 d 换位置)</li>
                <li>副对角线变号 (b 和 c 加负号)</li>
                <li>整体除以行列式 (ad - bc)</li>
            </ol>
        </div>
    </div>
</div>

<!-- ==================== SECTION 5: 总结 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎯 本章收获</h2>

    <div class="content-block">
        <div class="theorem-card">
            <div class="theorem-title">今天你学会了</div>
            <ol style="margin: 0; padding-left: 1.5rem; line-height: 2.2;">
                <li><strong>逆矩阵 $A^{-1}$</strong> = 变换的"撤销键"</li>
                <li><strong>$A \times A^{-1} = I$</strong>（恒等矩阵）</li>
                <li>det = 0 → <strong>没有逆</strong>（信息丢失）</li>
                <li>逆矩阵可以用来<strong>解方程</strong></li>
            </ol>
        </div>
    </div>
</div>