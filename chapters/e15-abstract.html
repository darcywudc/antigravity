<div class="chapter-header fade-in">
    <span class="chapter-badge">第 15 章</span>
    <h1 class="chapter-title">向量不只是箭头 <br><small style="font-size: 0.6em; color: var(--text-muted);">Abstract Vector
            Spaces</small></h1>
    <p class="chapter-description">
        到目前为止，我们把向量想象成"箭头"或"数字列表"。
        但线性代数的真正魔力在于：<strong>很多东西都可以是向量</strong>！
        函数、音乐、颜色、甚至扑克策略——都可以用线性代数来分析。
    </p>
</div>

<!-- 核心词汇 -->
<div class="section fade-in">
    <div class="vocab-summary">
        <div class="vocab-title">本章核心词汇</div>
        <div class="vocab-list">
            <div class="vocab-item"><span class="vocab-zh">向量空间</span><span class="vocab-en">Vector Space</span></div>
            <div class="vocab-item"><span class="vocab-zh">公理</span><span class="vocab-en">Axioms</span></div>
            <div class="vocab-item"><span class="vocab-zh">函数空间</span><span class="vocab-en">Function Space</span></div>
            <div class="vocab-item"><span class="vocab-zh">内积空间</span><span class="vocab-en">Inner Product Space</span>
            </div>
        </div>
    </div>
</div>

<!-- SECTION 1 -->
<div class="section fade-in">
    <h2 class="section-title">🤔 15.1 什么才算"向量"？</h2>

    <div class="content-block">
        <p>回想一下我们对向量做的事情：</p>
        <ul>
            <li><strong>加法</strong>：两个向量可以相加</li>
            <li><strong>数乘</strong>：向量可以被数字缩放</li>
        </ul>
        <p style="margin-top: 1rem;">
            实际上，<strong>任何能做这两件事的东西</strong>，数学上都可以叫做"向量"！
        </p>

        <div class="theorem-card">
            <div class="theorem-title">💡 向量的本质</div>
            <p style="text-align: center; font-size: 1.2rem;">
                向量不是关于"箭头"的——而是关于<strong>加法</strong>和<strong>缩放</strong>的！
            </p>
        </div>

        <div class="aha-box">
            <div class="aha-title">思维转变</div>
            <p>
                从"向量是什么"转变为"向量能做什么"。
                只要满足特定的运算规则，任何东西都可以是向量。
            </p>
        </div>
    </div>
</div>

<!-- SECTION 2 -->
<div class="section fade-in">
    <h2 class="section-title">🎨 15.2 惊人的例子</h2>

    <div class="content-block">
        <div class="example-ladder">
            <div class="example-step">
                <div class="step-number">🎵</div>
                <div class="step-content">
                    <div class="step-label">音乐信号</div>
                    <p>两首歌可以混合（加法），音量可以调节（缩放）。</p>
                    <p style="color: var(--accent-green); font-weight: bold;">所以音乐信号是向量！</p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">📈</div>
                <div class="step-content">
                    <div class="step-label">函数</div>
                    <p>$f(x) + g(x)$ 是新函数，$2f(x)$ 也是新函数。</p>
                    <p style="color: var(--accent-green); font-weight: bold;">所以函数可以构成向量空间！</p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">🎨</div>
                <div class="step-content">
                    <div class="step-label">颜色</div>
                    <p>RGB 颜色可以混合，也可以调亮调暗。</p>
                    <p style="color: var(--accent-green); font-weight: bold;">颜色是 3D 向量！</p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">📐</div>
                <div class="step-content">
                    <div class="step-label">多项式</div>
                    <p>$x^2 + x$ 和 $3x$ 可以相加，也可以乘以系数。</p>
                    <p style="color: var(--accent-green); font-weight: bold;">多项式构成无限维向量空间！</p>
                </div>
            </div>
            <div class="example-step">
                <div class="step-number">🎲</div>
                <div class="step-content">
                    <div class="step-label">概率分布</div>
                    <p>两个分布可以混合，权重可以调整。</p>
                    <p style="color: var(--accent-green); font-weight: bold;">概率分布是向量！</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- SECTION 3 -->
<div class="section fade-in">
    <h2 class="section-title">✨ 15.3 为什么这很酷？</h2>

    <div class="content-block">
        <div class="why-matters">
            <div class="why-title">抽象的力量</div>
            <p>
                一旦你证明某个东西是<span class="term" data-en="Vector Space">向量空间</span>，
                所有我们学过的线性代数工具<strong>自动适用</strong>！
            </p>
        </div>

        <div
            style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin: 1.5rem 0;">
            <div style="text-align: center; padding: 1rem; background: var(--bg-tertiary); border-radius: 8px;">
                <p style="font-size: 0.9em;">✅ 基与维度</p>
            </div>
            <div style="text-align: center; padding: 1rem; background: var(--bg-tertiary); border-radius: 8px;">
                <p style="font-size: 0.9em;">✅ 线性变换</p>
            </div>
            <div style="text-align: center; padding: 1rem; background: var(--bg-tertiary); border-radius: 8px;">
                <p style="font-size: 0.9em;">✅ 矩阵表示</p>
            </div>
            <div style="text-align: center; padding: 1rem; background: var(--bg-tertiary); border-radius: 8px;">
                <p style="font-size: 0.9em;">✅ 特征值</p>
            </div>
        </div>

        <div class="deep-dive">
            <div class="deep-title">🤯 例子：微分是线性变换！</div>
            <p>
                对函数求导满足两条规则：
            </p>
            <div class="math-block">
                $$ (f + g)' = f' + g' \quad \text{和} \quad (cf)' = cf' $$
            </div>
            <p style="margin-top: 0.5rem;">
                这正是线性变换的定义！所以<strong>微分可以用矩阵表示</strong>。
            </p>
            <p style="font-size: 0.9em; color: var(--text-muted); margin-top: 0.5rem;">
                在高级课程中，你会学到微分算子的"特征函数"是 $e^{kx}$——这就是傅里叶分析的起点！
            </p>
        </div>
    </div>
</div>

<!-- SECTION 4 -->
<div class="section fade-in">
    <h2 class="section-title">📜 15.4 向量空间的公理</h2>

    <div class="content-block">
        <p>一个集合要成为<span class="term" data-en="Vector Space">向量空间</span>，需要满足 8 条<span class="term"
                data-en="Axioms">公理</span>：</p>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin: 1.5rem 0;">
            <div class="definition-card">
                <div class="definition-title">加法公理</div>
                <ol style="margin: 0; font-size: 0.9em;">
                    <li>交换律：u + v = v + u</li>
                    <li>结合律：(u + v) + w = u + (v + w)</li>
                    <li>零元素：存在 0 使 v + 0 = v</li>
                    <li>逆元素：存在 -v 使 v + (-v) = 0</li>
                </ol>
            </div>
            <div class="definition-card">
                <div class="definition-title">数乘公理</div>
                <ol style="margin: 0; font-size: 0.9em;">
                    <li>a(bv) = (ab)v</li>
                    <li>1 · v = v</li>
                    <li>a(u + v) = au + av</li>
                    <li>(a + b)v = av + bv</li>
                </ol>
            </div>
        </div>

        <p style="font-size: 0.95em; color: var(--text-secondary);">
            这些规则看起来"显然"，但正是它们定义了什么是向量空间。
            任何满足这些规则的东西都享有线性代数的所有工具！
        </p>
    </div>
</div>

<!-- 新增：练习题 -->
<div class="section fade-in">
    <div class="content-block">
        <div class="challenge-box" style="margin-top: 2rem;">
            <div class="challenge-title">✍️ 动手练习</div>
            <p><strong>判断下列集合是否构成向量空间：</strong></p>
            <ol>
                <li>所有经过原点的直线（包含原点）</li>
                <li>所有不经过原点的直线</li>
                <li>所有形如 $ax^2 + bx$ 的多项式（没有常数项）</li>
            </ol>
            <details style="margin-top: 1rem;">
                <summary style="cursor: pointer; color: var(--accent-blue); font-weight: bold;">👆 点击查看答案</summary>
                <div
                    style="margin-top: 0.5rem; padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                    <ol>
                        <li><strong>是</strong>。任意两条直线叠加还在原点，数乘也还在原点。</li>
                        <li><strong>不是</strong>！因为它没有<strong>零向量</strong>（不包含原点）。也没法相加（加起来可能就不过那个点了）。</li>
                        <li><strong>是</strong>。两个这样的多项式相加，还是没有常数项。数乘也一样。</li>
                    </ol>
                </div>
            </details>
        </div>

        <!-- 新增：思考题 -->
        <div class="challenge-box" style="margin-top: 2rem;">
            <div class="challenge-title">🤔 想一想</div>
            <p><strong>$3 \times 3$ 魔方阵（每行每列和相等）构成的集合也是向量空间吗？</strong></p>
            <details style="margin-top: 1rem;">
                <summary style="cursor: pointer; color: var(--accent-blue); font-weight: bold;">👆 点击查看答案</summary>
                <div
                    style="margin-top: 0.5rem; padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                    <p><strong>是！</strong></p>
                    <p>
                        如果矩阵 A 和 B 都是魔方阵（和为 $S_A, S_B$），那么 $A+B$ 的每行和就是 $S_A+S_B$，仍然相等。
                        数乘 $cA$ 的和是 $c S_A$，也满足条件。
                    </p>
                </div>
            </details>
        </div>
    </div>
</div>

<!-- ==================== 实战应用 ==================== -->
<div class="section fade-in">
    <h2 class="section-title">🎯 实战应用：用抽象向量空间解决真实问题</h2>

    <div class="content-block">
        <p style="font-size: 1.1rem; margin-bottom: 2rem;">
            一旦认识到某个集合是向量空间，所有线性代数工具都可以使用——这就是抽象的力量！
        </p>

        <!-- 问题 1：多项式拟合 -->
        <div class="deep-dive" style="border-left: 4px solid var(--accent-blue); margin-bottom: 2rem;">
            <div class="deep-title">📈 问题 1：多项式是向量！</div>

            <div style="background: rgba(74, 158, 255, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                <p><strong>场景</strong>：所有次数 ≤ 2 的多项式（如 $3x^2 + 2x + 1$）构成一个向量空间 $P_2$。</p>
                <p><strong>问题</strong>：$P_2$ 的维度是多少？一组基是什么？</p>
            </div>

            <div class="example-ladder">
                <div class="example-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-label">找一组基</div>
                        <p>自然选择：$\{1, x, x^2\}$。任何 ≤2 次多项式都可以写成 $a \cdot 1 + b \cdot x + c \cdot x^2$。</p>
                    </div>
                </div>
                <div class="example-step">
                    <div class="step-number">✓</div>
                    <div class="step-content" style="background: rgba(16, 185, 129, 0.1);">
                        <div class="step-label" style="color: var(--accent-green);">答案</div>
                        <p>维度 = 3，基 = $\{1, x, x^2\}$</p>
                        <p style="font-size: 0.9em; color: var(--text-muted);">多项式 $3x^2 + 2x + 1$ 的"坐标"是 $(1, 2, 3)$！
                        </p>
                    </div>
                </div>
            </div>

            <div class="aha-box" style="margin-top: 1rem;">
                <div class="aha-title">💡 这就是多项式拟合的数学基础</div>
                <p>机器学习中的多项式回归，本质上是在多项式向量空间中找一个最接近数据的"向量"！</p>
            </div>
        </div>

        <!-- 问题 2：函数空间 -->
        <div class="deep-dive" style="border-left: 4px solid var(--accent-orange); margin-bottom: 2rem;">
            <div class="deep-title">🎵 问题 2：声音也是向量</div>

            <div style="background: rgba(249, 115, 22, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                <p><strong>场景</strong>：函数 $f(t) = \sin(t)$ 和 $g(t) = \cos(t)$ 都是"向量"。</p>
                <p><strong>问题</strong>：$2\sin(t) + 3\cos(t)$ 是这个向量空间中的向量吗？</p>
            </div>

            <div class="example-ladder">
                <div class="example-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-label">检验：是否满足加法和数乘封闭</div>
                        <p>$2\sin(t)$ 是 $\sin(t)$ 的数乘（2倍）。</p>
                        <p>$2\sin(t) + 3\cos(t)$ 是两个函数的加法。</p>
                    </div>
                </div>
                <div class="example-step">
                    <div class="step-number">✓</div>
                    <div class="step-content" style="background: rgba(16, 185, 129, 0.1);">
                        <div class="step-label" style="color: var(--accent-green);">答案</div>
                        <p><strong>是的！</strong>在基 $\{\sin(t), \cos(t)\}$ 下，它的坐标是 $(2, 3)$。</p>
                    </div>
                </div>
            </div>

            <div class="aha-box" style="margin-top: 1rem;">
                <div class="aha-title">💡 这就是傅里叶分析的基础</div>
                <p>任何周期信号都可以分解成正弦和余弦的线性组合。MP3 压缩、降噪耳机都在用这个原理！</p>
            </div>
        </div>

        <!-- 问题 3：线性变换在函数上 -->
        <div class="deep-dive" style="border-left: 4px solid var(--accent-purple);">
            <div class="deep-title">∂ 问题 3：微分是线性变换！</div>

            <div style="background: rgba(139, 92, 246, 0.05); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                <p><strong>场景</strong>：微分算子 $D(f) = f'$ 把函数映射到它的导数。</p>
                <p><strong>问题</strong>：$D$ 是线性变换吗？</p>
            </div>

            <div class="example-ladder">
                <div class="example-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <div class="step-label">检验两条规则</div>
                        <p>加法：$(f + g)' = f' + g'$ ✓</p>
                        <p>数乘：$(cf)' = c \cdot f'$ ✓</p>
                    </div>
                </div>
                <div class="example-step">
                    <div class="step-number">✓</div>
                    <div class="step-content" style="background: rgba(16, 185, 129, 0.1);">
                        <div class="step-label" style="color: var(--accent-green);">答案</div>
                        <p><strong>是的，微分是线性变换！</strong></p>
                        <p>这意味着我们可以用矩阵来表示微分算子，用特征值来解微分方程！</p>
                    </div>
                </div>
            </div>

            <div class="aha-box" style="margin-top: 1rem;">
                <div class="aha-title">💡 $e^x$ 是微分的特征向量！</div>
                <p>$D(e^x) = e^x = 1 \cdot e^x$。所以 $e^x$ 是特征值为 1 的特征向量。$e^{2x}$ 的特征值是 2。这就是为什么微分方程的解总是 $e^{ax}$ 的形式！</p>
            </div>
        </div>

        <!-- 挑战题 -->
        <div class="challenge-box" style="margin-top: 2rem;">
            <div class="challenge-title">🚀 挑战：颜色也是向量</div>
            <p><strong>问题</strong>：RGB 颜色 $(255, 128, 0)$ 和 $(0, 128, 255)$ 的"平均"是什么颜色？这算是向量加法吗？</p>
            <details style="margin-top: 1rem;">
                <summary style="cursor: pointer; color: var(--accent-blue); font-weight: bold;">👆 点击查看答案</summary>
                <div
                    style="margin-top: 0.5rem; padding: 1rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px;">
                    <p>平均 = $\frac{1}{2}(255, 128, 0) + \frac{1}{2}(0, 128, 255) = (127.5, 128, 127.5)$</p>
                    <p>约为 $(128, 128, 128)$ = <strong>中性灰色</strong>！</p>
                    <p>✅ 这正是数乘 + 加法，颜色空间就是一个向量空间。</p>
                    <div
                        style="display: inline-block; width: 30px; height: 20px; background: rgb(255, 128, 0); border-radius: 4px;">
                    </div>
                    <span>+</span>
                    <div
                        style="display: inline-block; width: 30px; height: 20px; background: rgb(0, 128, 255); border-radius: 4px;">
                    </div>
                    <span>=</span>
                    <div
                        style="display: inline-block; width: 30px; height: 20px; background: rgb(128, 128, 128); border-radius: 4px;">
                    </div>
                </div>
            </details>
        </div>

    </div>
</div>

<!-- 总结 & 毕业 -->
<div class="section fade-in">
    <h2 class="section-title">🎓 恭喜毕业！</h2>

    <div class="content-block">
        <div
            style="text-align: center; padding: 3rem; background: linear-gradient(135deg, rgba(74, 158, 255, 0.1), rgba(16, 185, 129, 0.1), rgba(139, 92, 246, 0.1)); border-radius: 20px;">
            <p style="font-size: 3rem; margin: 0;">🎉</p>
            <h3 style="margin: 1rem 0; font-size: 1.8rem;">你完成了线性代数的本质之旅！</h3>

            <div style="text-align: left; max-width: 500px; margin: 2rem auto;">
                <p style="font-weight: bold; margin-bottom: 1rem;">从简单的箭头开始，你现在理解了：</p>
                <ul style="line-height: 2.2;">
                    <li><span class="term" data-en="Vector">向量</span>可以加法和缩放</li>
                    <li><span class="term" data-en="Matrix">矩阵</span>代表线性变换</li>
                    <li><span class="term" data-en="Determinant">行列式</span>测量面积/体积变化</li>
                    <li><span class="term" data-en="Eigenvector">特征向量</span>是变换中的"不动方向"</li>
                    <li>这些概念<strong>远远超越</strong>了箭头和数字</li>
                </ul>
            </div>

            <div style="margin-top: 2rem; padding: 2rem; background: rgba(255,255,255,0.1); border-radius: 16px;">
                <p style="font-size: 1.3rem; margin: 0; font-weight: bold;">
                    💡 记住这个核心思想
                </p>
                <p style="margin-top: 1rem; font-size: 1.1rem;">
                    线性代数不是关于计算——它是关于<br>
                    <strong>理解空间如何变换</strong>。
                </p>
            </div>

            <div style="margin-top: 2rem;">
                <p style="font-size: 1rem; color: var(--text-secondary);">
                    你现在拥有了看待世界的新视角。<br>
                    游戏、AI、物理、工程——到处都有线性代数的影子。<br>
                    继续探索吧！🚀
                </p>
            </div>
        </div>

        <div class="vocab-summary" style="margin-top: 2rem;">
            <div class="vocab-title">全课程核心词汇总结</div>
            <div class="vocab-list">
                <div class="vocab-item"><span class="vocab-zh">向量 Vector</span><span class="vocab-en">大小+方向</span></div>
                <div class="vocab-item"><span class="vocab-zh">矩阵 Matrix</span><span class="vocab-en">线性变换</span></div>
                <div class="vocab-item"><span class="vocab-zh">行列式 Det</span><span class="vocab-en">面积缩放</span></div>
                <div class="vocab-item"><span class="vocab-zh">逆矩阵 Inverse</span><span class="vocab-en">撤销变换</span>
                </div>
                <div class="vocab-item"><span class="vocab-zh">点积 Dot</span><span class="vocab-en">合作程度</span></div>
                <div class="vocab-item"><span class="vocab-zh">叉积 Cross</span><span class="vocab-en">垂直方向</span></div>
                <div class="vocab-item"><span class="vocab-zh">特征值 Eigen</span><span class="vocab-en">不动方向</span></div>
                <div class="vocab-item"><span class="vocab-zh">向量空间</span><span class="vocab-en">加法+数乘</span></div>
            </div>
        </div>
    </div>
</div>